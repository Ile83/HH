<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<style type="text/css">
   
    body, html
            {
                max-width: 47em;
            }
    body,td,th {
        font-family: "Myriad Pro", "Myriad Pro Bold", Garamond;
    }
    </style>
</head>

<body>
    <h1>Haaga-Helia ammattikorkeakoulu
        </h1>
        <h2>
        Linux palvelimet ICI003AS2A-3006
        </h2>
    <br>
    24.8.2023
    <br>
<p>

    A program is free software if the program's users have the four essential freedoms: [1]
</p>
   <li>The freedom to run the program as you wish, for any purpose (freedom 0).</li>
   <li>The freedom to study how the program works, and change it so it does your computing as you wish (freedom 1). Access to the source code is a precondition for this.</li>
    <li>The freedom to redistribute copies so you can help others (freedom 2).</li>
    <li>The freedom to distribute copies of your modified versions to others (freedom 3). By doing this you can give the whole community a chance to benefit from your changes. Access to the source code is a precondition for this.</li>
</p>
L√§hde: https://www.gnu.org/philosophy/free-sw.html#four-freedoms
<br>


<h2>Linuxin asentaminen virtuaalikoneeseen kurssia varten</h2>

<p>
    Host tietokone
    <br>
    Microsoft Surface Laptop Studio 14,4" -kannettava, Win 11 Pro
    <li>K√§ytt√∂j√§rjestelm√§: Windows 11 Pro</li>
      <li>N√§ytt√∂: 14,4" 120 Hz PixelSense Flow -n√§ytt√∂, tarkkuus: 2400 x 1600 (201 PPI), kuvasuhde: 3:2, 10 pisteen monikosketus, Dolby Vision -tuki</li>
      <li>Prosessori: neliytiminen 11. sukupolven Intel Core H35 i5-11300H -suoritin</li>
       <li>Keskusmuisti: 16 Gt LPDDR4X</li>
        <li>Kiintolevy: 512 Gt SSD</li>
        <li>Grafiikka: Intel Iris Xe</li>
        <li>Verkko-ominaisuudet: WiFi 6: 802.11ax-yhteensopiva, Bluetooth Wireless 5.1 -teknologia</li>
        <li>Liit√§nn√§t: 2 x USB-C ja USB 4.0 / Thunderbolt 4, 3,5 mm:n kuulokeliit√§nt√§, 1√ó Surface Connect -portti‚ÄØ</li>

</p>

    <h2>VMWaren k√§ynnistys</h2>
<img src="Graphics/Linux/1.png" alt="" width="700" height=""/>
<p>
    K√§ynnistett√§ess√§ Vmwarea, se pyysi p√§ivitt√§m√§√§n itsens√§ versioon 17.0.0. painoin nappia skip this version. T√§m√§n j√§keen k√§vin tarkastamassa oman Vmwareni version, se on 16.2.5 build-20904516.

Vmwaressa oli valmiina aikaisemmin luomani ubunto 64-bittinen virtuaalikone. Kuitenkin teht√§v√§ss√§ neuvottiin tekem√§√§n uusi kone kokonaan ja dokumentoimaan sen luonti.

</p>

<p>
    T√§ss√§ vaiheessa perehdyin lis√§√§ kurssimateriaaliin ja p√§√§tin, ett√§ teen kuten on ohjeistettu ja asennan Virtualboxin ja Debianin üòä
</p>
<img src="Graphics/Linux/2.png" alt="" width="700" height=""/>
<p>
    Laitoin asetukset ohjeiden mukaan keskusmuisti 4GB ja kovalevy 60GB, ei pre-allocated, laitoin koneelle vain 1 CPU:n koska kannettavassani ei ole kuin nelj√§ ydint√§, toki HT:n avulla on madollista k√§ytt√§√§ kahdeksaa. Ohjeissa neuvottiin asettamaan ISO tiedosto virtualliseen CDROM asemaan, tein ISO tiedoston liitt√§misen kuitenkin jo virtuaalikoneen luonti vaiheessa.
</p>
<img src="Graphics/Linux/3.png" alt="" width="700" height=""/>
<p>
    Valmis k√§ynnist√§m√§t√∂n kone n√§ytt√§√§ t√§lt√§.
</p>
<img src="Graphics/Linux/4.png" alt="" width="700" height=""/>

<p>
    K√§ynnistin koneen ja se on valmiina testi√§ varten boottaamaan liveen.
    <br>

Mouse integration tuotti ongelmia, koska se oli defaulttina oikea CTRL, jota ei n√§pp√§imist√∂st√§ni l√∂ytynyt. Sammutin virtuaalikoneen ja vaihdoin n√§pp√§imeksi pelkk√§ CTRL. K√§ynnistin koneen uudestaan, mutta nyt ISO tiedosto oli kadonnut ja boottimediaa ei ollut koneessa. Mounttasin sen uudestaan ja boottasin liveen takasin.

</p>
<img src="Graphics/Linux/5.png" alt="" width="700" height=""/>

<p>
    Ihmettelin mit√§ t√§m√§ tarkoittaa, mutta jatkoin eteenp√§in.
<br>
Avasin nettiselaimen ja kokeilin Googlata, kaikki toimi niin kuin pitikin.

</p>
<img src="Graphics/Linux/6.png" alt="" width="700" height=""/>

<p>
    Yhteenveto asennuksesta
</p>
</p><img src="Graphics/Linux/7.png" alt="" width="700" height=""/>
<p>
    Debian asentui noin kymmeness√§ minuutissa ja k√§ynnistin koneen uudelleen.
</p>
<img src="Graphics/Linux/8.png" alt="" width="700" height=""/>

<p>
    Avasin nettiselaimen ja menin YouTubeen, kaikki vaikutti toimivan.
</p>
<img src="Graphics/Linux/9.png" alt="" width="700" height=""/>
<p>
    Oli p√§ivitt√§misen aika, laitoin kuvan komennon sis√§√§n ja paketinhallintaan p√§ivittyi tiedot mit√§ on p√§ivitett√§viss√§.
</p>
<img src="Graphics/Linux/10.png" alt="" width="700" height=""/>
<p>
    $ sudo apt-get -y dist-upgrade komento p√§ivitti kaiken ja uudelleenk√§ynnistyst√§ ei tarvittu.
</p>
<img src="Graphics/Linux/11.png" alt="" width="700" height=""/>
<p>
    $ sudo apt-get -y install ufw asensi palomuurin, ei ongelmia.
    <br>
$ sudo ufw enable komento kuitenkin antoi virheilmoituksia, palomuuri ei k√§ynnistynyt.
<br>
Kokeilen k√§ynnist√§√§ uudelleen koneen.

</p>
<img src="Graphics/Linux/12.png" alt="" width="700" height=""/>
<p>
    Se korjasi ongelman palomuuri oli k√§ynnistynyt koneen bootatessa.
</p>
<h2>Lis√§ teht√§v√§:</h2>
<img src="Graphics/Linux/13.png" alt="" width="700" height=""/>
<p>
   asensin VirtualBoxin guest additionsin, asennus tarvitsee uudelleenk√§ynnistyksen.
</p>
<img src="Graphics/Linux/14.png" alt="" width="700" height=""/>
<p>
    Uudelleenk√§ynnistyksen j√§lkeen tulos oli t√§m√§. Musta ruutu. Opettajalla oli ohjeet t√§m√§n korjaamiseen. Ty√∂st√§n t√§t√§ ongelmaa my√∂hemmin.
</p>
<p>
    Kokeilin pakottaa vesa grafiikat p√§√§lle boottivalikosta lis√§m√§√§ll√§ komennon xforcevesa. Se ei auttanut. edelleen tuloksena oli musta ruutu.
</p>
<img src="Graphics/Linux/15.png" alt="" width="700" height=""/>
<p>
Kokeilin ohjeiden mukaisesti p√§ivitt√§√§ paketinhallinan ja koneen komentokehoitteesta.
<br>
Poistin quest additionsin, kun en saanut sit√§ asennettua uudelleen.
<br>
kokeilin "reboot" komentoa ja "shutdown -r" komentoa, ne eiv√§t tomineet.
<br>
K√§ynnistin koneen Gui valikosta uudelleen.
</p>
<img src="Graphics/Linux/16.png" alt="" width="700" height=""/>
<p>
    Tuloksena toimiva kone, mutta ilman kivoja lis√§ominaisuuksia.
    <br>
    Asensin viel√§ kerran guest additionsin mutta sama tilanne, musta ruutu tulee takaisin ‚òπ
    <p>
    Jos asia ei korjaannu vihje oli asentaa toinen distro, kuten Xubuntu. T√§m√§ on harmmillista, koneessani ei toimi siis lis√§herkut Host koneen ja virtuualikoneen k√§ytt√∂j√§rjestelm√§√§n v√§lill√§. Ainakaan Debian ja VirtualBox yhdistelm√§ss√§.
    <p>
    Poistin uudestaan Guest additionsin ja taas toimii Gui.
    <p>
    Asensin Vmwareen Debianin ja teen jatkossa virtualisoinnin Vmwarella.
</p>
<h3 id="Luento2">Luento 2</h3>
<br>
30.08.2023
<p>
Olen siis siirtynyt k√§ytt√§m√§√§n Vmware virtualisointi sovellusta ja siihen asennettua Debian 12 k√§ytt√∂j√§rjestelm√§√§. Windows 11 ymp√§rist√∂ss√§. P√§ivitin luento 1 l√§ksyjen loppua hieman t√§m√§n osalta.
</p>
<img src="Graphics/Linux/17.png" alt="" width="700" height=""/>
<p>
    T√∂rm√§sin heti ongelmaan. Asiasta ilmoitettiin j√§rjestelm√§nvalvojalle üòä
</p>
<img src="Graphics/Linux/18.png" alt="" width="700" height=""/>
<p>
    Googlasin ja p√§√§dyin Debianin foorumille. l√∂ysin ohjeet ja asensin sudon, sek√§ lis√§sin ilkkah k√§ytt√§j√§n sudoers tiedostoon komento: ‚Äùusermod -a -G sudo USER‚Äù, jossa USER on siis k√§ytt√§j√§nimesi.
</p>
    <br>
  L√§hde: <a href="https://forums.debian.net/viewtopic.php?t=152483">I'm somehow not in the sudoers file. - Debian User Forums</a>
</p>
<img src="Graphics/Linux/19.png" alt="" width="700" height=""/>
<p>
    Kirjauduin k√§ytt√§j√§ll√§ ilkkah ja kokeilin tomiiko sudo komento p√§ivitt√§m√§ll√§ paketinhallinan ja homma toimi.
</p>
    <h3>x)</h3>
<li>pwd = print working directory</li>
<li>ls =list files and folders</li>
<li>cd = change directory</li>
<li>less = program to shows inside of text files in terminal</li>
<li>nano = word editor</li>
<li>mkdir = make directory</li>
<li>cp = copy file</li>
<li>rmdir = remove directory</li>
<li>rm = remove file</li>
<h3>a) Micro asennus</h3>
    <p>
    Asensin Micron, komento ‚Äúsudo apt-get install micro‚Äù, se asentui onnistuneesti.
    </p>

 <h3>b) Rauta</h3>
<img src="Graphics/Linux/20.png" alt="" width="700" height=""/>
<p>
    Kokeilin listata koneen tiedot lshw:ll√§, mutta sit√§ ei ollut asennettu. Asensin lshw:n komennolla ‚Äùsudo apt-get install lshw‚Äù.
</p>
<img src="Graphics/Linux/21.png" alt="" width="700" height=""/>
<p>
    Listasin raudan komennolla ‚Äùsudo lshw -short -sanitize‚Äù.</p>
    </p>
    <li>H/W path on luullakseni kansio jossa sijaitsee raudan tarvitsemat tiedot toimiakseen
    </li>
    <li>-	Device kohta kertoo tietokoneeseen yhdistetyt laitteet, kuten cd-rom tai usb-muisti</li>
<li>-	Class kertoo luokan mihin kyseinen rauta kuuluu</li>
<li>-	Description on kuvaus raudasta, esim. prosessori ja sen tyyppi tai muisti</li>
<h3>c) Apt</h3>
<h4>Gitin asennus</h4>
<p>
komennot ‚Äùapt-cache show git‚Äù, sain paketinhallinnan tiedot gitist√§.
</p>
<p>
    Itse asennus ‚Äúsudo apt-get install git‚Äù.
</p>
<h4>Telnetin asennus</h4>
<p>
    ‚Äùsudo apt-get install telnet‚Äù asentaa Telnetin koneelle, jolla voi ottaa yhteytt√§ internetin palvelimiin, jolloin p√§√§see k√§ytt√§m√§√§n palvelimen tarjontaa hyv√§kseen.
</p>
<img src="Graphics/Linux/22.png" alt="" width="700" height=""/>
<p>
    ‚Äùtelnet towel.blinkenlights.nl‚Äù komennolla pit√§isi pysty√§ alkaa katsomaan Star Wars elokuvaa Ascii merkeill√§ tehtyn√§, mutta palvelin oli alhaalla. Kannattaa kokeilla my√∂hemmin uudestaan.
</p>
<h4>Neofetchin asennus</h4>
<img src="Graphics/Linux/23.png" alt="" width="700" height=""/>
<p>
    ‚Äúsudo apt-get install neofetch‚Äù asentaa neofetchin ja komento ‚Äúneofetch‚Äù pirt√§√§ tiedot distrosta n√§yt√∂lle.
</p>
<h4>Wgetin asennus</h4>
<p>
    ‚Äùsudo apt-get install wget‚Äù asentaa wget ohjeman, jolla voi ladata tiedostoja internetist√§. Esim. Teamviewer sovelluksen Debianille. Alla komento sille.
</p>
<p>
‚Äùwget https://download.teamviewer.com/download/linux/teamviewer_amd64.deb‚Äù
</p>
<p>
    ‚Äùsudo dpkg -i teamviewer_amd64.deb‚Äù asentaa .deb asennustiedoston. T√§m√§ oli toinen kerta, kun asennan graafisen ohjelman terminaalin kautta. En tied√§ minne se asentuu ja miten se k√§ynnistett√§isiin komentokehotteesta. Gui:n puolella application finderilla l√∂yd√§n ohjelman ja voin k√§ynnist√§√§ sen.   
</p>
<h4>Useamman ohjelman samanaikainen asennus terminaalista</h4>
<img src="Graphics/Linux/24.png" alt="" width="700" height=""/>
<p>
    ‚Äùsudo apt-get install ensimm√§inen ohjelma, toinen ohjelma, kolmas ohjelma</p>
</p>
L√§hde: <a href="https://linuxhint.com/use-apt-to-install-multiple-programs-from-command-line-debian/">How to Use apt to Install Multiple Programs from the Command Line in Debian 11 (linuxhint.com)</a>
<h3>T√§rke√§t tiedostot FSF</h3>
<img src="Graphics/Linux/25.png" alt="" width="700" height=""/>
<p>
    Root, koneen tiedostoj√§rjestelm√§n juuri.
    <br>
    Home, koti kansio
    <br>
    User, k√§ytt√§j√§n omat tiedosto kansio
    
</p>
<img src="Graphics/Linux/26.png" alt="" width="700" height=""/>
<p>
    komennot ‚Äùcd /‚Äù, ‚Äùcd etc‚Äù, ‚Äùls‚Äù.
</p>
<img src="Graphics/Linux/27.png" alt="" width="700" height=""/>
<p>
    Yll√§ kuvassa komennot ja listaus media kansion sis√§ll√∂st√§.
</p>
<img src="Graphics/Linux/28.png" alt="" width="700" height=""/>
<p>
    komennot ‚Äùcd ..‚Äù, ‚Äùfind var/log‚Äù, cd var/log/‚Äù, ‚Äùls‚Äù.
</p>
<h3>Grep komento</h3>
<img src="Graphics/Linux/29.png" alt="" width="700" height=""/>
<p>
    Loin komenolla ‚Äùnano teksti‚Äù tiedoston teksti ja laitoin sis√§ll√∂ksi numeroita.
</p>
<img src="Graphics/Linux/30.png" alt="" width="700" height=""/>
<p>
    Etsin ‚Äùgrep 2 teksti‚Äù komennolla sis√§lt√§√§k√∂ tiedosto teksti numeroa 2 ja se l√∂ytyi.
</p>
<img src="Graphics/Linux/31.png" alt="" width="700" height=""/>
<p>
    ‚Äùgrep -c 2 teksti‚Äù laskee kuinka monta osumaa tiedostossa on numerolle 2
</p>
<p>
    Tekstitiedostoni oli huono t√§h√§n teht√§v√§√§n, en en√§√§ alkanut luomaan uutta. Googlasin grep komennosta lis√§√§, alla oleva vaikutti todella hy√∂dylliselt√§:
</p>
    <p>
<italic>‚ÄúMatching the lines that start with a string : The ^ regular expression pattern specifies the start of a line. This can be used in grep to match the lines which start with the given string or pattern.</italic>

 </p>
<p>
<italic>$ grep "^unix" geekfile.txt</italic>
<p>
<italic>Output: unix is great os. unix is free os.‚Äù</italic>
</p>
L√§hde: <a href="https://www.geeksforgeeks.org/grep-command-in-unixlinux/">grep command in Unix/Linux - GeeksforGeeks</a>
</p>
<h3>f) Pipeline</h3>
<img src="Graphics/Linux/32.png" alt="" width="700" height=""/>
<p>
    komento ‚Äùls /etc|less‚Äù
</p>
<img src="Graphics/Linux/33.png" alt="" width="700" height=""/>
<p>
    Ep√§onnistunut kirjautuminen sudo komentoon, 3 virheellist√§ kirjautumisyrityst√§ k√§ytt√§j√§lle ilkkah koneella Kone1, elokuun 30, kello 18.02. Sudo PID numero 7665, yritt√§nyt k√§ynnist√§√§ apt-get ohjelman komennolla update.
</p>
<img src="Graphics/Linux/34.png" alt="" width="700" height=""/>
<p>
    Kone1 k√§ytt√§j√§ ilkkah k√§ynnisti sudo komennon, prosessi (PID) 7689 toimi root oikeuksilla apt-get update komento. T√§ll√§ kertaa onnistuneesti.
</p>
</p>
<h3 id="Luento3">Luento 3</h3>
<br>
05.09.2023
<p>
alkusanat
</p>
<h3>x) Lue ja tiivist√§</h3>
<li>Apachen asennus: sudo apt-get install apache2 komento</li>
<li>k√§ynnist√§√§ firefoxin ja katsoo mit√§ palvelimella py√∂rii: firefox "http://localhost"</li>
<li>selvitt√§√§ kuinka serverin voi l√∂yt√§√§ netist√§: ip addr</li>
<li>avaa firefoxin webbipalvelimesi tiedoilla, sy√∂t√§ edellisest√§ kohdastasi saama IP osoite t√§h√§n firefox "http://x.x.x.x"</li>
<li>Jos kaikki on kunnossa, tuolla samalla IP:ll√§ saat sen selville komennolla: host x.x.x.x</li>
<br>
K√§yt√§nn√∂llinen komento
<li>tarkasta k√§ytt√§j√§: whoami</li>
<h3>Asenna Apache-weppipalvelin</h3>
<img src="Graphics/Linux/35.png" alt="" width="700" height=""/>
komennolla "sudo apt-get install apache2" asensin apachen ja komennolla "firefox localhost" testasin, ett√§ palvelin toimii.
<h3>b) Etsi lokista rivit, jotka syntyv√§t, kun lataat omalta palvelimeltasi yhden sivun. Analysoi rivit.</h3>
<p>
<img src="Graphics/Linux/36.png" alt="" width="700" height=""/>
</p>
Sain aluksi t√§ll√§isen vastauksen "sudo journalctl -f komenolla" ja sen j√§lkeen komennolla "firefox localhost"
<img src="Graphics/Linux/37.png" alt="" width="700" height=""/>
Olin unohtanu Apachen asennuksessa pari asiaa. Koitin "systemclt restart apache2" (huomaa kirjoitusvirhe) komentoa ei l√∂ytynyt. P√§√§tin asentaa sen komennolla "sudo apt-get install systemctl" (t√§ll√§ kertaa oikein kirjoitettuna) Virheit√§ tuli useita. P√§√§tin silti jatkaa ja kokeilla mit√§ k√§y. Laitoin komennon "sudo a2enmod userdir" ja k√§ynnistin demonin uudestaan komennolla "sudo systemctl restart apache2"
<br>
Sen j√§lkeen sain ulos logista kuvan mukaisen tuloksen. kello 22:54:05 kone1 (t√§m√§ virtuualikone) K√§ytt√§j√§ id=1000 aktivoi palvelun "org.xfce.Xfconf" sit√§ pyysi ":1.38" en tied√§ mik√§ t√§m√§ on?  k√§ytt√§j√§ id= 1000, prosessi id:ll√§ 1642 comm="xfsettingsd --display : :0.0 (en tied√§ mit√§ tarkoittaa, luulisin, ett√§ jotain grafiikkaan liittyv√§√§ piiret√§√§n n√§yt√∂lle) --smclient-id 218f3658") t√§m√§ on ehk√§ webbiselaimen asiakas ID, en ole kyll√§ yht√§√§n varma :) 
<br>
<img src="Graphics/Linux/38.png" alt="" width="700" height=""/>
<p>
t√§m√§n j√§lkeen virtuaalikone kaatui, enk√§ saanu sit√§ en√§√§ p√§√§lle. Se luultavasti johtui systemlctl:n asentamisesta mik√§ ei mennyt onnistuneesti. Kone ei siis en√§√§ k√§ynnistyny graafiseen liittym√§√§n.
</p>
<img src="Graphics/Linux/39.png" alt="" width="700" height=""/>
boottasin recovery moodiin, mutta en alkanut en√§√§ googlaamaan mit√§ olisi teht√§viss√§. tutkin hiemna, laiton komennon "sudo apt-get update" paketinhallinta ei ollut en√§√§ toiminnassa ja se ei pystynyt p√§ivittym√§√§n. l√∂ysin root hakemistosta "ls" komennolla initrd.imd.old. Yritin avata sen micro editorilla. Sis√§lt√∂ oli ASCII merkkej√§. P√§√§tin jatkaa teht√§v√§√§ toisella l√§pp√§rill√§, jolla olin kurssin alunkin tehnyt.
En ottanut n√§ist√§ kuvia siksi, ett√§ niit√§ olisi tullut aivan liikaa ja en saisi t√§t raporttia koskaan valmiiksi. N√§iden tekeminen on aika ty√∂l√§st√§.
<img src="Graphics/Linux/40.png" alt="" width="700" height=""/>
<p>
    Siiryin toiselle virtuaalikoneelle ja asensin Apachen. komento "sudo a2enmod userdir" ja koitin saada oman kotihakemistoni auki selaimella.
</p>
<img src="Graphics/Linux/41.png" alt="" width="700" height=""/>
<p>Firefox antaa ilmoituksen 404 pyydetty√§ osoitetta ei l√∂ydy palvelimelta. Luultavasti koska index.html puuttuu</p>
<img src="Graphics/Linux/42.png" alt="" width="700" height=""/>
<p>
    Laitoin komennon ‚Äùsudo journalctl -f‚Äù avasin toisen terminaal ja sinne komento ‚Äùfirefox ‚Äùhttp://localhost‚Äù Firefox aukesi ja Logissa n√§kyi rtkit-daemon(1332) prosessi valvomassa 4 lankaa kahdesta prosessista yhdell√§ k√§ytt√§j√§ll√§. K√§ytt√§j√§ oli t√§m√§ virtuaalikone, nimelt√§√§ kone1. Googlasin hieman ja tuo prosessi on jonkinlainen palvelija prosessi. L√§hde: Hukkasin l√§hteen (se oli jokin Linux keskustelupalsta). Demoni my√∂s onnistuneesti loi langan 5283 prosessista 5175 jonka omisti k√§ytt√§j√§ ID 1000, eli k√§yttj√§ kone1 prioriteetill√§ 10. Tuo on luultavasti korkea prioriteetti luku.
</p>
<h3>c) Vaihda Apachen esimerkkisivu johonkin lyheen sivuun niin, ett√§ vanha esimerkkisivu ei n√§y.</h3>
<img src="Graphics/Linux/43.png" alt="" width="700" height=""/>
<p>
Loin microlla index.html tiedoston sis√§ll√∂ll√§ Hello World! kansioon public_html
</p>
<p>
Laitoin komennon chmod + x index.html ja muutin tiedoston oikeudet executable (korjaus 17.09.2023 t√§t√§ ei tarvinnut tehd√§ tiedostolle. Se piti tehd√§ public_html kansiolle, sielt√§ puuttui oikeudet. mkdir public_html kannattaa ilmeisesti tehd√§ sudo komennolla, jolloin homma pelitt√§√§ heti)
</p>
<img src="Graphics/Linux/44.png" alt="" width="700" height=""/>
<p>
    Laitoin komennon ‚Äùfirefox ‚Äùhttp://localhost/ilkkah/‚Äù Ei aukea, en keksi miss√§ on ongelma.
</p>
<p>
Tein googlauksen ‚Äù how to change apache2 default page‚Äù
<p>
Vastaus suoraan googlen esimerkeist√§:

What is apache2 Ubuntu default page?
The default Ubuntu document root is /var/www/html. You can make your own virtual hosts under /var/www. This is different to previous releases which provides better security out of the box. Please use the ubuntu-bug tool to report bugs in the Apache2 package with Ubuntu.
</p>
<p>
Komento terminaaliin: ‚Äúcd /‚Äù, ‚Äùcd var‚Äù, ‚Äùcd www‚Äù, ‚Äùcd html‚Äù, ‚Äùls‚Äù ja sielt√§ l√∂ytyi index.html kokeilin komentoa ‚Äùfirefox index.html‚Äù selaimeen aukesi tuossa tiedostopolussa oleva index.html ja se n√§ytti olevan Apachen vakio aloitussivu.
<br>
komento ‚Äùsudo cp index.html index2.html, tein siis backupin index.html tiedostosta ja nimesin sen index2.html
</p>
<img src="Graphics/Linux/45.png" alt="" width="700" height=""/>
<p>komento ‚Äùcd‚Äù, ‚Äùcd public_html‚Äù ‚Äúls‚Äù ja muutama v√§√§r√§ komento ja kopioin oikealla komennolla ‚Äùsudo cp index.html /var/www/html/‚Äù Huom. varoituksia ei anneta, tuossa kyseisess√§ tiedostopolussa on jo index.html ja se ylikirjoitettiin nyt.</p>
</p>
<img src="Graphics/Linux/46.png" alt="" width="700" height=""/>
<p>
menin /var/www/html/ hakemistoon ja kokeilin komennolla ‚Äùmicro index.html‚Äù tiedosto on nyt korvattu luomallani index.html, joka on my√∂s k√§ytt√§j√§ ilkkah kotihakemistossa public_html kansiossa, jonka pit√§isi n√§ky√§ ulkomaailmaan, mutta en ole saanut sit√§ viel√§ toimimaan. T√§ss√§ j√§i mietitytt√§m√§√§n mik√§ tuo var kansio on variables?
</p>
<img src="Graphics/Linux/47.png" alt="" width="700" height=""/>
<p>
    Komento ‚Äù firefox ‚Äùhttp://localhost‚Äù ‚Äù varmisti, ett√§ apache palvelin py√∂ritt√§√§ nyt tuota sivua.
</p>
<h3>Laita k√§ytt√§jien kotisivut (http://example.com/~tero) toimimaan. Testaa esimerkkikotisivulla. Katso, ett√§ voit muokata weppisivua normaalina k√§ytt√§j√§n√§ (ilman sudoa).</h3>
<p>
    kohta c) sivuaa t√§t√§. En saa ilkkah k√§ytt√§j√§n public_html kansiota n√§kym√§√§n ulkomaailmaan.
</p>
<h3>e) Tee validi HTML5 sivu.</h3>
<img src="Graphics/Linux/48.png" alt="" width="700" height=""/>
<p>Loin t√§m√§n html tiedoston host koneella Vscodella</p>
<p>Sammutin virtuaalikoneen ja koitin asentaa VMWare tools lis√§ohjelman, mutta se olikin jo asennettuna. K√§ynnistin koneen uudestaan. Tuo ohjelma mahdollistaa kopioinnin k√§ytt√§en graafista k√§ytt√∂liittym√§√§ host koneen ja virtuaalikoneen v√§lill√§.</p>
<img src="Graphics/Linux/49.png" alt="" width="700" height=""/>
<p>Kuvakaappaus host koneen tiedostoista. T√§st√§ kopion tiedoston virtuaalikoneeseen (kuva alla)</p>
<img src="Graphics/Linux/50.png" alt="" width="700" height=""/>
<p>Tiedosto helloworldlorem.html kopioitiin onnistuneesti.</p>
<h3>f) Anna esimerkit 'curl -I' ja 'curl' -komennoista. Analysoi 'curl -I' tuloste.</h3>
<img src="Graphics/Linux/51.png" alt="" width="700" height=""/>
<p>Komento curl kuvan mukaisesti -l lis√§tiedolla. Se tulostaa terminaalin kyseisen .html tiedoston sis√§ll√∂n. Huomio, en huomannut mit√§√§n eroa laittaako tuota -l mukaan komentoon, komento tulosti saman sis√§ll√∂n kummallakin kerralla.</p>
<h3>m) Vapaaehtoinen, suosittelen tekem√§√§n: Hanki GitHub Education -paketti.
</h3>
<p>Olen tehnyt t√§m√§n joskus aikaisemmin ja liitt√§nyt haaga-helian s√§hk√∂postin Gihubiin oman s√§hk√∂postini rinnalle.</p>
<h3 id="Luento4">Luento 4 Maailma kuulee</h3>
<br>
17.09.2023
<h4>x) Lue ja tiivist√§</h4>
    <p>
    Komentoja: 
    </p>
    ‚Äùssh root@xxx.xxx.xxx.xxx‚Äù (IP-osoite) shh yhteys palvelimeen
    <br>
    ‚Äúsudo ufw allow 22/tcp‚Äù ssh yhteytt√§ varten reik√§ palomuuriin
    <br>
    ‚Äúsudo ufw enable‚Äù palomuuri p√§√§lle
    <br>
    ‚Äúsudo adduser (username)‚Äù lis√§√§ k√§ytt√§j√§
    <br>
    ‚Äúsudo adduser (username) sudo‚Äù lis√§√§ k√§ytt√§j√§ p√§√§k√§ytt√§j√§tiedostoon
    <br>
    ‚Äússh (username)@xxx.xxx.xxx.xxx‚Äù otas ssh yhteys palvelimeen
    <br>
    ‚Äúsudo usermod ‚Äìlock root‚Äù lukitse p√§√§k√§ytt√§j√§n salasana
    <br>
    ‚Äúsudoedit /etc/ssh/sshd_config‚Äù # PermitRootLogin no # Lukitse p√§√§k√§ytt√§j√§
    <br>
    ‚Äúsudo service ssh restart‚Äù k√§ynnist√§ ssh uudestaan
    <br>
    ‚Äúsudo apt-get update‚Äù paketin hallinnan p√§ivitys
    <br>
    ‚Äúsudo apt-get dist-upgrade‚Äù ohjelmistojen p√§ivitys
    <br>
    ‚Äùsudo ufw allow 80/tcp‚Äù palomuurin reik√§ Apache palvelinta varten	
    <br>
    ‚Äùsudo systemctl reboot‚Äù ?
    <br>
    ‚Äùjournaltctl -n 2000; journalctl  --since today‚Äù tunkeutumis tietoja
    <br>
    ‚Äú/var/log/auth.log‚Äù Autentikointi logitiedosto
    <br>
    ‚Äújournalctl SYSLOG_FACILITY=10 # auth events tunkeutumis tietoja
    <br>
    ‚Äújournalctl ‚Äìgrep pam_ --priority err‚Äù tunkeutumis tietoja
    <br>
    ‚Äú/var/log/apache2/access.log‚Äù Apachen access logitiedosto
    <br>
    ‚Äúsudo systectl restart apache2‚Äù Apachen uudelleen k√§ynnistys
    <h4>a)	Vuokraa oma virtuaalipalvelin haluamaltasi palveluntarjoajalta. (Vaihtoehtona voit k√§ytt√§√§ ilmaista kokeilujaksoa, GitHub Education krediittej√§; tai jos mik√§√§n muu ei onnistu, voit kokeilla ilmaiseksi vagrant:ia paikallisesti. Suosittelen kuitenkin harjoittelemaan oikeilla, tuotantoon kelpaavilla julkisilla palveluilla).</h4>
<p>valitsin Digital Ocenin palveluntarjoajaksi. Shared cpu 1gb ram 25GB ssd, hinta 6 dollaria/kk valitsin viel√§ ilmaiset telemetria tiedot palvelimesta graafiseen k√§ytt√∂liittym√§√§n ja varoitus viestit. Onkohan t√§ll√§ teho vaikutuksia palvelimeen? Eli kannattaako n√§it√§ ottaa?</p>
<h4>
    b) Tee alkutoimet omalla virtuaalipalvelimellasi: tulimuuri p√§√§lle, root-tunnus kiinni, ohjelmien p√§ivitys.  
</h4>
<p>
    Etenin n√§ill√§ komennoilla:
</p>
‚Äùssh root@46.101.117.13‚Äù yhteys palvelimeen
<br>
‚Äùsudo ufw allow 22/tcp‚Äù Ei l√∂ytynyt tulimuuria
<br>
‚Äùsudo apt-get update‚Äù paketinhallinnan p√§ivitys
<br>
‚Äùsudo apt-get dist-upgrade‚Äù ohjelmistojen p√§ivitys
<br>
‚Äúsudo apt-get install ufw‚Äù palomuurin asennus
<br>
‚Äúsudo ufw allow 22/tcp‚Äù Tulimuuriin reik√§ ssh yhteyksi√§ varten
<br>
‚Äùsudo ufw enable‚Äù palomuuri p√§√§lle
<br>
‚Äùsudo ufw status‚Äù palomuurin tila selville
<br>
‚Äùsudo adduser ilkkah‚Äù ilkkah k√§ytt√§j√§n lis√§ys
<br>
‚Äùsudo adduser ilkkah sudo‚Äù ilkkah k√§ytt√§j√§n lis√§ys sudo tiedostoon
<img src="Graphics/Linux/52.png" alt="" width="700" height=""/>
<p>Testaus, ett√§ ilkkah on lis√§tty sudo tiedostoon ja voi toimia p√§√§k√§ytt√§j√§noikeuksin.</p>
<img src="Graphics/Linux/53.png" alt="" width="700" height=""/>
<p>Lukitsin root k√§ytt√§j√§n ja k√§vin viel√§ uudestaan katsomassa config tiedoissa, ett√§ Permitrootlogin on varmasti ‚Äùno‚Äù</p>
<h4>
    c) Asenna weppipalvelin omalle virtuaalipalvelimellesi. Korvaa testisivu. Kokeile, ett√§ se n√§kyy julkisesti. Kokeile my√∂s eri koneelta, esim k√§nnyk√§lt√§.
</h4>
<img src="Graphics/Linux/54.png" alt="" width="700" height=""/>
<p>Asensin Apachen komennolla ‚Äùsudo apt-get install apache2‚Äù, sitten komento ‚Äùsudo ufw allow 80/tcp‚Äù palomuuriin reik√§ weppipalvelimelle. Loin index.html tiedoston sis√§ll√∂ll√§ Hello World! /var/www/html/ kansioon ja k√§vin katsomassa, ett√§ sivut aukeavat, niin host koneella, kuin k√§nnyk√§ll√§.</p>
<h4>
   d) Murtautumis yrityksi√§
</h4>
<img src="Graphics/Linux/55.png" alt="" width="700" height=""/>
<p>L√∂in komennon ‚Äùsudo journalctl -n 2000‚Äù ja lokista l√∂ytyy useita ep√§onnistuneita kirjautumisyrityksi√§ ties kenelt√§.</p>
<h3 id="Luento5">Luento 5 Nimitt√§in</h3>
<p>24.09.2023</p>
<h4>x) Lue ja tiivist√§, Karvinen 2016: New Default Website with Apache2 ‚Äì Show your homepage at top of example.com, no tilde</h4>
<p>‚Äùsudoedit /etc/apache2/sites-available/ilkkah.conf‚Äù
<br>
    ## /etc/apache2/sites-enabled/ilkkah.conf
    <br>
    <VirtualHost *:80>
        <br>
     DocumentRoot /home/ilkkah/public_html/
     <br>
     <Directory /home/ilkkah/public_html/>
     <br>
       Require all granted
       <br>
     </Directory>
     <br>
    </VirtualHost>
    <p>    
    ‚Äùsudo a2ensite ilkkah.conf‚Äù
    <br>
    ‚Äùsudo a2dissite 000-default.conf‚Äù
    <br>

    "sudo tail -1 /var/log/apache2/error.log"</p>
</p>
<h4>x) Lue ja tiivist√§, Karvinen 2018: Name Based Virtual Hosts on Apache ‚Äì Multiple Websites to Single IP Address</h4>
<p>virtual hosts
    <br>
<p>
    "sudoedit /etc/apache2/sites-available/pyora.example.com.conf"
    <br>
    "cat /etc/apache2/sites-available/pyora.example.com.conf"
</p>
    VirtualHost *:80
        <br>
     ServerName pyora.example.com
     <br>
     ServerAlias www.pyora.example.com
     <br>
     DocumentRoot /home/xubuntu/publicsites/pyora.example.com
     <br>
     Directory /home/xubuntu/publicsites/pyora.example.com
     <br>
       Require all granted
       <br>
     /Directory
     <br>
    /VirtualHost
    <br>
</p>
<p>
    komentoja:
<br>
    "sudo a2ensite pyora.example.com"
    <br>
    "sudo systemctl restart apache2"
    <br>
    "mkdir -p /home/xubuntu/publicsites/pyora.example.com/"
    <br>
    curl localhost
</p>
<h4>x) lue ja tiivist√§: Apache Software Foundation 2023: Name-based Virtual Host Support</h4>
<p>
    VirtualHost *:80
    <br>
    # This first-listed virtual host is also the default for *:80
    <br>
    ServerName www.example.com
    <br>
    ServerAlias example.com 
    <br>
    DocumentRoot "/www/domain"
    <br>
/VirtualHost
<br>

VirtualHost *:80
<br>
    ServerName other.example.com
    <br>
    DocumentRoot "/www/otherdomain"
    <br>
/VirtualHost
</p>
<h4>a) Vuokraa domain-nimi ja aseta se osoittamaan virtuaalipalvelimeesi.</h4>
<img src="Graphics/Linux/56.png" alt="" width="700" height=""/>
<p>ostin domainin harkkatehtava.pro namecheapilta ja muutin dns palvelimen tiedot osoittamaan oman virtuaalipalvelimen ip osoitteeseen.
    <br>
    Kokeilin viiden minuutin p√§√§st√§ osoitetta harkkatehtava.pro ja se ohjasi minun palvelimelleni.
    </p>
    <h4>b) Tutki oman nimesi tietoja 'host' ja 'dig' -komennoilla. Analysoi tulokset.</h4>
    <img src="Graphics/Linux/57.png" alt="" width="700" height=""/>
    <p>host harkkatehtava.pro antaa t√§llaista tietoa, viittaako viel√§ siihen, ett√§ osoite on rekister√∂inti vaiheessa vai valintaan namecheapiss√§, ett√§ minun tietoa ei anneta. Ainakin sen pit√§isi vaikutta whois tietokantaan.</p>
    <img src="Graphics/Linux/58.png" alt="" width="700" height=""/>
    <p>harkkatehtava.pro osoittaaa palvelimeni ip osoitteeseen. Haku kesti 16ms, haku tapahtui lauantaina kello 15:17 Suomen aikaa, eli palvelin on GMT 00.00</p>
    <h4>c) Etusivu uusiksi. Name based virtual hosting. Laita kotisivusi n√§kym√§√§n oman palvelimen etusivulla. Sivujen tulee olla tallennettu jonnekin kotihakemistojen alle ja olla muokattavissa ilman sudoa.</h4>
    <img src="Graphics/Linux/59.png" alt="" width="700" height=""/>
    <p>Tein ilkkah.conf tiedoston /etc/apache/sites-available/ kansioon ja  loin public_html hakemiston sudo oikeuksilla home kansioon ja sen alle index.html tiedoston, jossa sis√§lt√∂ ‚ÄùHello World! kayttajan alla‚Äù ajoin komennon sudo a2ensite ilkkah.conf, k√§ynnistin apachen uudestaan ja kokeilin Curlilla oliko sis√§lt√∂ muuttunut. N√§in ei ollut k√§ynyt. uskoisin, ett√§ vika on .conf tiedostossa tai sen aktivoinnissa.</p>
    <img src="Graphics/Linux/60.png" alt="" width="700" height=""/>
    <p>Olin unohtanut yhden komennon sudo ‚Äùa2dissite 000-default.conf‚Äù joka disabloi vakio nettisivun ja luullakseni aktivoi virtuaalihostin. K√§ynnistin apachen uudestaan ja kokeilin curlilla harkkatehtava.pro osoitetta. Nyt tuli 403 Forbidden. uskoisin, ett√§ t√§ss√§ on nyt kyse usergroupista ja oikeuksista tuohon home kansion alla olevaan public_html kansioon ja index.html tiedostoon.</p>
    <p>Poistin public_html kansion ja loin sen ilman sudo komentoa uudestaan, koska sudon kanssa sille oli tullut k√§ytt√∂oikeudet rootille. kokeilin uudestaan, mutta homma ei toiminut. Edelleen 403 forbidden.</p>
    <img src="Graphics/Linux/61.png" alt="" width="700" height=""/>
    <p>Katsoin apachen error login ja jonkin n√§k√∂iset oikeudet puuttuvat, ett√§ kansion saisi auki. Googlasin ja ‚Äùsudo chmod 755 public_html‚Äù pit√§isi antaa p√§√§syn public_html kansionn. Mutta sek√§√§n ei auttanut. Kokeilin viel√§ chmod komennolla erilaisia variaatioita public_html kansioon, mutta en saanut hommaa toimimaan. Minulla oli t√§m√§ sama ongelma localhostissa virtuaalikoneella aikaisemmalla luennolla, silloin sivun sai n√§kym√§√§n, kun tero opasti hieman tai olisi luonut sudo komennolla public_html kansion. T√§ss√§ se ei kuitenkaan toiminut. "ls -l" komennolla tutkin kansion oikeuksia, mutta en keksinyt miten saisin homman toimimaan.
        <br>
        26.09.2023
        <br>
        Poistin taas kansion ja kokeilin viel√§ luoda kansion "mkdir -p public_html" mutta ei auttanut asiaan, edelleen tulee 403 forbidden. Tero karvisen materiaaleistam, en l√∂yt√§nyt vastaavaa virhe tilannetta, koska mielest√§ni olen tehnyt kaiken mit√§ ohjeet neuvovat. En kyll√§ t√§ysin ymm√§rr√§ "chmod" komentoa ja miten oikeuksia pit√§isi tulkita tuossa "ls -l" komennolla lukiessa. My√∂skin "man chmod" manuaalista ei ollut apua, tai sitten olin liian h√§t√§inen sen kanssa. Pit√§isi perehty√§ manuaaleihin paremmin.
        <br>
        Sain homman toimimaan komento "chmod ugo+x ilkkah" kansiolle
    </p>
    <h3 id="Luento6">Luento 6 Django</h3>
    <p>02.10.2023</p>
<h4>x) Lue ja tiivist√§ Artikkeli: Karvinen 2023: Python Web - Idea to Production - 2023</h4>
<li>palvelee asiakkaita Linuxilla, Macilla, Windowsilla, iPhonella, Androidilla - mill√§ vain selaimella</li>
<li>ker√§√§ itsest√§√§n tietoa siit√§, miten palveluasi k√§ytet√§√§n</li>
<li>antaa monien k√§ytt√§jien muokata tietoja yht√§ aikaa (aika tavallinen vaatimus yritysten ohjelmissa)</li>
<li>toimii k√§ytt√§jill√§ asentamatta mit√§√§n</li>
<li>k√§ytt√§√§ automaattisesti uusinta versiota ohjelmastasi</li>
<h4>x) Lue ja tiivist√§ Artikkeli: Karvinen 2022: Django 4 Instant Customer Database Tutorial</h4>
<li>artikkelissa luodaan kehitysymp√§rist√∂</li>
<li>k√§sitell√§√§n virtuaali ymp√§rist√∂n asennus</li>
<li>artikkeli ohjeistaa pip paketinhallinnan k√§ytt√∂√∂</li>
<li>kuinka luodaan tietokanta djangoon</li>
<h4>x) Lue ja tiivist√§ Artikkeli: Deploy Django 4 - Production Install</h4>
<li>artikkeli k√§sittellee django tuotanto palvelimen pystytt√§mist√§</li>
<h4>a) Asenna Django-kehitysymp√§rist√∂ niin, ett√§ n√§et './manage.py runserver' esimerkkisivun.</h4>
<img src="Graphics/Linux/62.png" alt="" width="700" height=""/>
<p>Etenin Tero Karvisen teht√§v√§n ohjeiden mukaan ja runserver esimerkkisivu on n√§kyviss√§. Ongelmia ei tullut vastaan.</p>
<h4>b) Tee yksinkertainen esimerkkitietokanta django-kehitysymp√§rist√∂√∂n ja muokkaa tietoja admin-liittym√§ll√§. (Voit k√§ytt√§√§ sellaisenaan CRM-artikkelin koodia.)</h4>
<p>
Etenin komennoilla
<br> 
- ‚Äùpython manage.py migrate‚Äù
<br>
- ‚Äùpython manage.py createsuperuser‚Äù asetin k√§ytt√§j√§nimen, s√§hk√∂postin ja salasanan, k√§ytin vahvaa salasana.
<br>
Kokeilin viel√§ t√§ss√§ vaiheessa Teron komennot:
<br>
- ‚Äùsudo apt-get install pwgen‚Äù
<br>
- ‚Äúpwgen -s 20 1‚Äù joka loi satunnais salasanan. En k√§ytt√§nyt t√§t√§.
<br>
Sitten aloin luomaan asiakastietokantaa
<br>
‚Äùmicro testi/settings.py‚Äù
</p>
<img src="Graphics/Linux/63.png" alt="" width="700" height=""/>
<p>
lis√§sin ‚Äôcrm‚Äô asennettuihin ohjelmiin
<br>
-	‚Äùmicro crm/models.py‚Äù
<br>
Lis√§sin koodi p√§tk√§n: ‚Äù class Customer(models.Model):
<br>
   name = models.CharField(max_length=300)‚Äù
   <br>
-	‚Äú ./manage.py makemigrations‚Äù
<br>
-	‚Äú./manage.py migrate‚Äù
<br>
-	‚Äúmicro crm/admin.py‚Äù
<br>
lis√§sin koodi p√§tk√§n: ‚Äúfrom . import models
<br>
admin.site.register(models.Customer)‚Äù
<br>
k√§ynnistin djangon serverin komennolla ‚Äú./manage.py runserver
</p>
<img src="Graphics/Linux/64.png" alt="" width="700" height=""/>
<p>RM ja sen alle customer tietokanta oli luotu.
</p>
<h4>c) Tee Djangon tuotantotyyppinen asennus omalle, paikalliselle virtuaalikoneellesi. Siis sellainen, joka py√∂rii Apachella. T√§m√§ teht√§v√§ on hieman haastavampi.</h4>
<p>
    komennot ‚Äùdeactivate‚Äù virtualiymp√§rist√∂n sulkeminen
    <br>
-	‚Äù echo Hello World! sudo tee /var/www/html/index.html‚Äù
<br>
-	‚Äúfirefox localhost‚Äù ja sivu oli p√§ivittynyt
<br>

home kansiossa: komento ‚Äúmkdir -p publicwsgi/production/static/‚Äù
<br>
-	‚Äúecho ‚Äústatically see you at localhost‚Äù tee|publicwsgi/production/static/index.html
<br>
-	‚Äúsudoedit /etc/apache2/sites-available/production.conf‚Äù
</p>
<img src="Graphics/Linux/65.png" alt="" width="700" height=""/>
<p>
Tallensin kuvan sis√§ll√∂n tiedostoon
<br>
‚Äúsudo a2ensite production.conf‚Äù
<br>
‚Äúsudo a2dissite 000-default.conf‚Äù
<br>
‚Äú/sbin/apachectl configtest‚Äù Tuli errori ja aloin selvitt√§m√§√§n. kirjoitan seuraavan kohdan ulkomuistista
<br>
katsoin errologin ‚Äùsudo tail /var/log/apache2/error.log‚Äù
<br>
siell√§ oli maininta caught SIGWINCH virhe. apache shutdown gracefully
<br>
komento ‚Äúsudo2dissite production.conf‚Äù
<br>
‚Äúsudo systemctl restart apache2‚Äù
<br>
‚Äúfirefox localhost‚Äù toimii taas
<br>
‚Äú/sbin/apachectl configtest‚Äù Syntax Ok
<br>
k√§vin katsomassa production.conf tiedostoa, kaikki oli kunnossa.
<br>
p√§√§tin kokeilla uudestaan komentoa ‚Äùsudo a2ensite production.conf‚Äù
<br>
‚Äùsudo systemctl restart apache‚Äù
<br>
‚Äùsbin/apachectl configtest‚Äù Syntax Ok, eli en tied√§ miss√§ vika oli tullut, mutta t√§m√§ auttoi.
<br>
‚Äùfirefox localhost/static/‚Äù 403 Forbidden.
<br>
‚Äùls -l‚Äù home kansiossa. execute oikeudet puuttuivat ilkkah kansiolta.
<br>
‚Äùchmod ugo+x ilkkah‚Äù
<br>
‚Äùfirefox localhost/static/‚Äù
</p>
<img src="Graphics/Linux/66.png" alt="" width="700" height=""/>
<p>Toimii
</p>
<p>
    Seuraavaksi tein teht√§v√§n ja en kirjoittanut raporttia samalla, kiireen takia, joten kirjoitan t√§m√§n ulkomuistista. Sain homman kuitenkin toimimaan. J√§i mietitytt√§m√§√§n, ett√§ ohjeet eiv√§t olleet suoraan sopivat t√§h√§n teht√§v√§√§n ja olisiko voinut j√§tt√§√§ tuon ylemm√§n osuuden tekem√§tt√§ osittain tuon staattisuuden tarkastuksen kohdalta?
<br>
    Asensin virtuaaliymp√§rist√∂n, komento ‚Äùvirtualenv -p python3 ‚Äìsystem-site-packages env‚Äù
    ollessani publicwsgi/ kansiossa. T√§m√§ meni oikeessa kansiossa, mutta jossain v√§liss√§ tulin luoneeksi yhden ylim√§√§r√§isen kansion, joka aiheutti .conf tiedoston kanssa hieman s√§√§t√§mist√§.
    <br>  
    aktivoin virtuaaliymp√§rist√∂n komennolla ‚Äùsource env/bin/activate‚Äù, sitten tarkastin onko pip virtuaalisessa ymp√§rist√∂ss√§ komennolla ‚Äùwhich pip‚Äù se oli.
    <br>
    seuraavaksi editoin ‚Äùrequirements.txt‚Äù tiedoston, lis√§√§m√§ll√§ sinne sanan ‚Äùdjango‚Äù
    <br>
    seuraavaksi tarkastus mik√§ versio djangosta oli asentunut komennolla ‚Äùdjango-admin ‚Äìversion‚Äù
    <img src="Graphics/Linux/67.png" alt="" width="700" height=""/>
    <br>
    4.2.5 eli yli nelj√§n, homma onnistui.
</p>
<p>
seuraavaksi aloitin uuden projektin komennolla ‚Äùdjango-admin startproject production‚Äù
<br>
sitten kytkin Pythonin Apacheen, editoin production.conf tiedostoa apachen sites-available kansiosta ja lis√§sin Teron kansioiden m√§√§ritys muuttujat ja skriptin tiedostoon. T√§ss√§ vaiheessa kansiot meniv√§t viel√§ v√§√§rin.
<br>
Sitten komento ‚Äùsudo apt-get -y install libapache2-mod-wsgi-py3‚Äù ja tarkastin syntaxin komennolla ‚Äù/sbin/apache2ctl configtest‚Äù tuli ilmoitus syntax ok
<br>
K√§ynnistin Apachen uudestaan komennolla ‚Äùsudo systemctl restart apache2‚Äù
<br>
ja katsoin toimiko tuotanto ymp√§rist√∂ komennolla ‚Äùcurl -s localhost|grep title‚Äù
vastaus oli 404 not found
</p>
<img src="Graphics/Linux/68.png" alt="" width="700" height=""/>
<p>Aloin selvitt√§m√§√§n asiaa production.conf tiedostosta ja k√§vin l√§pi ls -l komennolla kaikki asianomaiset kansiot home kansiossa koneellani. Oikeudet kansioissa olivat kunnossa, mutta t√§ss√§ vaiheessa huomasin, ett√§ kansioita oli tullut liikaa. Eli hakemisto puu ei vastannut production.conf tiedostossa olevia m√§√§rityksi√§ ja Pythoninkin versio oli 3.11, eik√§ 3.9.</p>
<img src="Graphics/Linux/69.png" alt="" width="700" height=""/>
<p>Muutin production.conf tiedoston polut vastamaan kansiorakennetta virtuaalikoneella ja pythonin kansion oikeaksi. N√§in j√§lkik√§teen, kun tarkastelin harkkateht√§v√§n ohjetta, voi ongelman ohittaa jo teko vaiheessa toimimalla eri tavalla, kun kopioi osoitteita. Mutta tein oman totutun k√§yt√§nn√∂n mukaan üòä Ei mennyt ihan oppikirjan mukaisesti.
<br>
    Kokeilin uudestaan komento ‚Äùcurl -s localhost|grep title‚Äù
    <br>
    edeleen 404 not found. Unohdin k√§ynnist√§√§ Apachen uudestaan, komento ‚Äùsudo systemctl restart apache2‚Äù
    </p>
    <img src="Graphics/Linux/70.png" alt="" width="700" height=""/>
    <p>‚Äùcurl -s localhost|grep title‚Äù ja komento ‚Äúcurl SI localhost|grep Server‚Äù
<br>
        Tuotantoymp√§rist√∂ oli asennettu ja se toimi Apache palvelimella.
        </p>
        <h3 id="Luento7">Luento 7 Hello World</h3>
        <p>07.10.2023</p>
    <h4>x) Kaikki l√§ksyt t√§h√§n. Palauta t√§h√§n linkki kuhunkin l√§ksyraporttisi.</h4>
    <a href="Linuxpalvelimet.html">Koko dokumentti</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento2">Luento 2</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento3">Luento 3</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento4">Luento 4</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento5">Luento 5</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento6">Luento 6</a>
    <br>
    <a href="Linuxpalvelimet.html#Luento7">Luento 7</a>
<h4>Lue ja tiivist√§. Tiivistelm√§ksi riitt√§√§ muutama ranskalainen viiva per artikkeli.</h4>
<p>
    <li>artikkelissa k√§sitell√§√§n ohjelmointiekielien eri syntaxeja hello worldille
    </li>
 
</p>
<h4>a)	K√§√§nn√§ "Hei maailma" Pythonilla, Javalla ja C-kielell√§. (Kirjoita l√§hdekoodi erilliseen tiedostoon, vaikka Pythonissa onkin interaktiivinen tulkki [REPL]).</h4>
<img src="Graphics/Linux/71.png" alt="" width="700" height=""/>
<p>
    Kaikki erillisiss√§ tiedostoissa ja ajettuina kuvassa

</p>
<h4>b)	K√§√§nn√§ "Hei maailma" jollain muulla kielell√§ (kuin Python, Java, C).</h4>
<p>‚Äúsudo apt-get -y install golang-go‚Äù
    <br>
    ‚Äúmicro helloilkka.go‚Äù
    <br>
    koodin kopiointi Terolta ja muokkaus vastaamaan omia tarpeita.
    </p>
    <img src="Graphics/Linux/72.png" alt="" width="700" height=""/>
    <p>Koodin k√§√§nt√§minen go:lla ja ajo, tulostaa Hello Ilkka</p>
    <h4>
        c)	 Esittele Pythonin k√§ytt√∂√§ interaktiivisena taskulaskimena. Voit k√§ytt√§√§ my√∂s Jupyteria, eli ipython3-liittym√§√§.
        </h4>
        <img src="Graphics/Linux/73.png" alt="" width="700" height=""/>
        <p>Esittelykuva, hieman laskuja.</p>
        <h4>d)	Tee shell script.
            </h4>
            <p>            
                micro helloilkka.sh sis√§ll√∂ll√§ echo ‚ÄùHello Ilkka‚Äù
                </p>
            <img src="Graphics/Linux/74.png" alt="" width="700" height=""/>
          <h4>
            e)	Tee uusi komento Linuxiin. Osoita, ett√§ se toimii kaikilla k√§ytt√§jill√§ ja ilman, ett√§ tarvitsee kirjoittaa polkua tuohon komentoon. (Voit k√§ytt√§√§ esimerkkiohjelmana √§sken tekem√§√§si shell scripti√§)
            </h4>
            <img src="Graphics/Linux/75.png" alt="" width="700" height=""/>
 
            <h4>f)	Intelligent intelligence. Ratkaise vanha arvioitava laboratorioharjoitus t√§lt√§ kurssilta. Saa soveltaaa. Jos harjoituksessa on kohtia, jotka ovat liian vaikeita tai kovin erilaisia kuin t√§ll√§ toteutuksella opetetut, voit vaihtaa ne sopivampaan tai jopa hyp√§t√§ niiden yli.</h4>
<h3>Arvioitava laboratorioharjoitus ‚Äì Linux palvelimet ict4tn021-2 (uusi OPS) alkukev√§√§ll√§ 2017 p1</h3>
            <p>
‚Äùsudo apt-get update‚Äù
<br>
‚Äùsudo apt-get upgrade‚Äù
<br>
‚Äùsudo apt-get install bash-completion‚Äù
<br>
‚Äúsudo apt-get install ufw‚Äù
<br>
‚Äúsudo apt-get ufw enable‚Äù
<br>
‚Äúsudo ufw status‚Äù
<br>
‚Äúsudo adduser maija‚Äù
<br>
‚Äúsudo adduser jormama‚Äù
<br>
‚Äúsudo deluser jormama‚Äù
<br>
‚Äúsudo useradd -G RegularUser jormama‚Äù
<br>
‚Äúsudo groupadd RegularUser‚Äù
<br>
‚Äúsudo useradd -G RegularUser jormama‚Äù
<br>
‚Äúsudo useradd -G RegularUser pekkahu‚Äù
<br>
‚Äúsudo useradd -G RegularUser ronaldosm‚Äù
<br>
‚Äúsudo useradd -G RegularUser hakanpe‚Äù
<br>
‚Äúsudo useradd -G RegularUser einarimi‚Äù
<br>
‚Äúsudo useradd -G RegularUser einariva‚Äù
<br>
‚Äúsudo useradd -G RegularUser eijava‚Äù
<br>
‚Äúsudo apt-get install apache2‚Äù t√§ss√§ kohtaa katsoin vanhasta youtube videosta miten voisin edet√§. Video oli puuttellinen tai liian vanha, jotta olisin saanut sen mukaan edetty√§ L√§hde: https://www.youtube.com/watch?v=KCwnCoJWe48&t=10s
<br>
‚Äúsudo apt-get install php‚Äù tulee versio 8.2
<br>
‚Äúsudo apt-get install composer‚Äù
<br>
‚Äúsudo chown -R ilkkah:ilkkah /var/www/html‚Äù en laittanut t√§t√§ komentoa koska minulla oli oikeudet kansioon (t√§m√§ pit√§√§ varmaan tehd√§ muille k√§ytt√§jille, jotta he p√§√§sev√§t avaamaan tuon kansion) en nyt rupenut sit√§ t√§ss√§ tekem√§√§n.
<br>
poistin var/www/html kansiosta index.html tiedoston.
<img src="Graphics/Linux/76.png" alt="" width="700" height=""/>
<br>
Loin phpinfo.ph tiedoston yll√§ olevalla sis√§ll√∂ll√§
<br>
‚Äùfirefox localhost‚Äù ja sielt√§ avaa phpinfo.php tiedoston hiirelll√§
<img src="Graphics/Linux/77.png" alt="" width="700" height=""/>
<br>
Tulostuu asennetusta PHP:st√§ tietoja
<img src="Graphics/Linux/78.png" alt="" width="700" height=""/>
<br>
Lis√§sin Apache2.conf tiedostoon User ilkkah ja Group ilkkah (t√§h√§n varmaan pit√§isi lis√§t√§ my√∂s Pekka Hurme, pekkahu k√§ytt√§j√§)
<br>
‚Äùsudo apt-get install mysql-server‚Äù ei toimi googlaus netist√§, pit√§√§ lis√§t√§ polku paketinhallintaan. En saanut t√§t√§ tehty√§, oikean.deb paketin lis√§√§minen ei onnistunut siirryin eteenp√§in.
<br>
<img src="Graphics/Linux/79.png" alt="" width="700" height=""/>

<br>
wowstats.sh loin microlla wowstats.sh yll√§ olevan kuvan sis√§ll√∂ll√§
<br>
‚Äùsudo apt-get install neofetch‚Äù
<br>
‚Äúsudo cp wowstats.sh /usr/local/bin‚Äù
<br>
‚Äúsudo chmod ugo+rx /usr/local/bin/wowstats.sh‚Äù
<br>
‚Äúwowstats.sh‚Äù
<img src="Graphics/Linux/80.png" alt="" width="700" height=""/>
<br>
<img src="Graphics/Linux/81.png" alt="" width="700" height=""/>
<br>
Loin index.php /var/www/html/ kansioon yll√§ olevalla sis√§ll√∂ll√§. L√§hde: https://www.php.net/manual/en/function.get-current-user.php
<br>
<img src="Graphics/Linux/82.png" alt="" width="700" height=""/>
‚Äúfirefox localhost‚Äù n√§ytt√§√§ kayttajtunnuksen joka suorittaa php scripti√§
<br>
Ei nyt mene ihan, kuin harkassa, mutta minulla ei ole kokemusta php:st√§. My√∂skin tuossa k√§ytt√§jien luonnissa kaikille ei syntynyt kotikansioita ja en perehtynyt sen enemp√§√§ siihen. K√§ytt√§j√§t olivat kuitenkin luotu.











</p>


            <h4>g)Asenna arvioitavaa laboratorioharjoitusta varten itsellesi uusi tyhj√§ virtuaalikone. Suosittelen Debian 12-Bookworm, amd64. Koneella saa halutessasi olla paketit p√§ivitettyn√§ ja palomuuri asennettuna. Koneella ei saa olla n√§iden lis√§ksi muita asetuksia ja ohjelmia kuin ne, jotka tulivat tavalliesn asennuksen yhteydess√§. Katso, ett√§ koneella on toimiva nettiyhteys, riitt√§v√§sti kovalevytilaa ja RAM-muistia. Virtuaalikoneella ei saa olla luottamuksellisia tietoja.</h4><p>Tehty</p>

</body>
</html>
