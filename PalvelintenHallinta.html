<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Palvelinten Hallinta</title>
<style type="text/css">
   
    body, html
            {
                max-width: 47em;
            }
    body,td,th {
        font-family: "Myriad Pro", "Myriad Pro Bold", Garamond;
    }
    </style>
</head>

<body>
    <h1>Haaga-Helia ammattikorkeakoulu
        </h1>
        <h2>
        Palvelinten Hallinta
        </h2>
    <br>
   27.10.2023
    <br>
    <h4 id="Luento1">h1 Viisikko</h4>
    <h3>x) Lue ja tiivist√§. (T√§ss√§ x-alakohdassa ei tarvitse tehd√§ testej√§ tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelm√§ riitt√§√§. Tiivist√§miseen riitt√§√§ muutama ranskalainen viiva.)</h3>
     
        Karvinen 2023: Create a Web Page Using Github
        <p>
            <li>Rekister√∂idy Githubiin</li>
            <li>Luo uusi repositorio, Lis√§√§ readme.me tekstitiedosto</li>
            <li>Lis√§√§ .md tiedosto</li>
            <li>Kirjoita tekstia ja tallenna</li>
            <li>Sivusi on julkaistu</li>
        </p>
        Karvinen 2023: Run Salt Command Locally
        <p>
            <li>Salt:ia k√§ytet√§√§n normaalisti hallitsemaan isoja m√§√§ri√§ orjatietokoneita verkossa</li>
            <li>Samat toiminnot toimivat niin Linux kuin Windowssissa</li>
            <li>Kaikista t√§rkeimm√§t komennot ovat pkg, file, service, user and cmd.</li>
        </p>




    <h3>a) Asenna Salt (salt-minion) koneellesi.</h3>
    
    <img src="Graphics/PalvelintenHallinta/1.png" alt="" width="700" height=""/>
    <p>
        Lis√§sin paketin hallintaan tiedot mist√§ Saltin voi hakea komennoilla, jotka n√§ytettiin tunnilla.
        <br>
        Sen j√§lkeen ‚Äùsudo apt-get update‚Äù ja ‚Äùsudo apt-get install salt-minion‚Äù
        
</p>
<img src="Graphics/PalvelintenHallinta/2.png" alt="" width="700" height=""/>
<p>‚Äùsudo salt-call  - -version‚Äù Sulfur versio on asentuneen Saltista koneella.</p>
<h3>b) Viisi t√§rkeint√§. N√§yt√§ esimerkit viidest√§ t√§rkeimm√§st√§ Saltin tilafunktiosta: pkg, file, service, user, cmd. Analysoi ja selit√§ tulokset.</h3>
<img src="Graphics/PalvelintenHallinta/3.png" alt="" width="700" height=""/>
<p>
    ‚Äùsudo salt-call --local -l info state.single pkg.installed tree‚Äù
    <br>
    Paketti pit√§√§ olla asennettuna, t√§ss√§ tapauksessa tree komento asensi ohjelman, jos komennon laittaa uudestaan tuo changed=1 ei tulostu, koska mik√§√§n ei muutu tilanteessa, kun tree on jo asennettu.

</p>
<img src="Graphics/PalvelintenHallinta/4.png" alt="" width="700" height=""/>
<p>
    Loin tmp kansioon helloilkka tiedoston komennolla touch helloilkka ja sen j√§lkeen ajoin salt komennon ‚Äùsudo salt-call --local -l info state.single file.managed /tmp/helloilkka‚Äù salt l√∂ysi tiedoston ja ei tehnyt muutoksia siihen.
</p>
<img src="Graphics/PalvelintenHallinta/5.png" alt="" width="700" height=""/>
<p>
    Apache2 palvelin py√∂ri koneella, Sammutin apachen py√∂rim√§st√§ komennpolla: ‚Äúsudo salt-call --local -l info state.single service.running apache2 enable=False‚Äù  
</p>
<img src="Graphics/PalvelintenHallinta/6.png" alt="" width="700" height=""/>
<p>
    Komento ‚Äúsudo salt-call --local -l info state.single user.present ilkkah‚Äù
<br>
Tarkastaa on ilkkah k√§ytt√§j√§ kirjautuneena sis√§√§n. N√§in todellakin t√§ss√§ tapauksessa on. Ehk√§ hy√∂dyllisempi, kun on useampia orjia.
</p>
<img src="Graphics/PalvelintenHallinta/7.png" alt="" width="700" height=""/>
<p>
    sudo salt-call --local -l info state.single cmd.run 'touch /tmp/test' creates="/tmp/test"
    <br>
    Salt loi tiedoston test kansioon /tmp/   
</p>
<h3>c) Idempotentti. Anna esimerkki idempotenssista. Aja 'salt-call --local' komentoja, analysoi tulokset, selit√§ miten idempotenssi ilmenee.</h3>
<img src="Graphics/PalvelintenHallinta/8.png" alt="" width="700" height=""/>
<p>
    Udestaan komento ‚Äù sudo salt-call --local -l info state.single pkg.installed tree‚Äù
    <br>
    tree paketti oli jo asennettuna, joten tulos on idempotentti. Komennon voi ajaa usemman kerran ja tulos ei muutu.
</p>
    <h3>
    d) Tietoa koneesta. Ker√§√§ tietoja koneesta Saltin grains.items -tekniikalla. Poimi kolme kiinnostavaa kohtaa, n√§yt√§ tulokset ('grains.item osfinger virtual') ja analysoi ne.
</h3>
<p>    
T√§st√§ puuttui terokarvinen.com sivuilta ohjeet. En alkanut selvitt√§m√§√§n omatoimisesti. Muistaakseni ei tunnillakaan k√§yty l√§pi.
</p>

L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/#h1-viisikko">Terokarvinen.com</a>
<h1>Haaga-Helia ammattikorkeakoulu
</h1>
<h2>
Palvelinten Hallinta
</h2>
<br>
05.11.2023
<br>
<h4 id="Luento2">h2 karjaa</h4>
<h3>Host kone</h3>
<p>
<li>Prosessori: Intel i7-11700K</li>
<li>Muisti: 32Gb ddr 4</li>
<li>N√§yt√∂nohjain: 3080RTX Mobile 16Gb</li>
<li>SSD: 2tb Samsung 980 PPO NVMe, SSD2 2tb Samsung 970 EVO NVMe</li>
<li>1 N√§ytt√∂: Clevo 17,3‚Äù 4k 60Hz, 2 N√§ytt√∂: Acer Predator 43‚Äù 4k 120Hz ja 3 N√§ytt√∂: Acer Predator 24‚Äù FHD 144Hz</li>
</p>
<p>
    Cattle, not pets. 
</p>
<h3>x) Lue ja tiivist√§. (T√§ss√§ x-alakohdassa ei tarvitse tehd√§ testej√§ tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelm√§ riitt√§√§. Tiivist√§miseen riitt√§√§ muutama ranskalainen viiva.)</h3>
<h3>Slater 2017: <a href="https://devops.stackexchange.com/questions/653/what-is-the-definition-of-cattle-not-pets#654">What is the definition of "cattle not pets"?.</a> (Vain tuo yksi vastaus DevOps Stack Exchangen kysymykseen)</h3>
<li>Ennen serverit olivat kuin lemmikkej√§, jos serveri kaatui, piti ryhty√§ hommiin, ett√§ se saadaan takaisin yl√∂s. Nyky√§√§n servereit√§ on useampia ja toinen ottaa roolin, jos yksi kaatuu.</li>
<li>Ennen serverit olivat uniikkeja j√§rjestelmi√§, joita ihminen ohjasi. Nyky√§√§n ne ovat automatisoituja, ett√§ ihmisten tekemisi√§ ei v√§ltt√§m√§tt√§ tarvita, jos serveri kaatuu vaan automaatio hoitaa homman ja serveri palaa linjoille tai se tuhotaan. T√§m√§ ei kyll√§ ole optimia, se kannattaa mieluummin ‚Äùj√§√§dytt√§√§‚Äù ja tutkia perimm√§inen syy miksi serveri ylip√§√§t√§√§n kaatui.</li>
<h3>Karvinen 2017: <a href="https://terokarvinen.com/2017/04/11/vagrant-revisited-install-boot-new-virtual-machine-in-31-seconds/">Vagrant Revisited ‚Äì Install & Boot New Virtual Machine in 31 seconds</a> (Suosittelen koneeksi 'vagrant init debian/bullseye64')</h3>
<p>
    <li>- ‚Äúsudo apt-get update‚Äù paketin hallinnan p√§ivitys</li>
   
    <li>- ‚Äúsudo apt-get -y install vagrant‚Äù vagrantin asennus</li>
    
    <li>- ‚Äúvagrant init bento/ubuntu-16.04‚Äù ubuntun alustus vagrantille</li>
    
    <li>- ‚Äúvagrant up‚Äù koneet yl√∂s</li>
    
    <li>- ‚Äúvagrant ssh‚Äù ssh yhteys vagrantiin</li>
    
    <li>- ‚Äúvagrant destroy‚Äù koneet alas</li>    
</p>
<h3>Karvinen 2023:<a href="https://terokarvinen.com/2023/salt-vagrant/"> Salt Vagrant - automatically provision one master and two slaves</a></h3>
<li>- Artikkeli k√§sittellee Vagrantin asennusta yhdell√§ masterilla ja kahdella orjalla</li>
<li>- Artikkeli on tehty raudalla py√∂riv√§√§ linux asennusta varten, ei sovellu windowsille suoraan</li>
<li>- Artikkelia voi soveltaa Vagrantin asennukseen Windowsille</li>
<h3>a)	Asenna Vagrant. (Toiminee parhaiten is√§nt√§k√§ytt√∂j√§rjestelm√§ss√§, siis siin√§, joka py√∂rii raudalla)</h3>
<p>
    Vagrantin asennus windowsille Vmwaren kanssa osoittautui jokseenkin haastavaksi, ohjeita ei ollut paljon. Jo pitk√§√§n ollut t√§m√§ mieless√§, joten p√§√§tin asentaa Linuxin toiseksi k√§ytt√∂j√§rjestelm√§kseni p√§√§koneeseen Windowsin rinnalle. Valitsin Linuxiksi Debian 12.
    <br>
    Asensin Rufuksen Windowsille ja loin bootaavan usb tikun Debianilla
</p>
<p>
    Kirjoitan seuraavan osion ulkomuistista.
    <br>
    Debianin asennus onnistui mutta tuli grafiikka bugeja, en aluksi p√§√§ssy kirjautumaan roottina, mutta komento ‚Äùsu ‚Äì root‚Äù onnistui sen tekem√§√§n. Koitin p√§ivitt√§√§ n√§yt√∂nohjaimen ajureita, se osoittautui hankalaksi. N√§yt√∂n ohjain on Nvidia 3080 RTX mobile paketinhallinnasta niit√§ ei l√∂ytynyt. Nvidian sivuilta sain .run tiedoston, jonka muokkasin ‚Äùchmod u+x tiedostonimi‚Äù suoritetavaksi tiedostoksi kaikki t√§m√§ kun n√§ytt√∂ pomppi miten sattuu ja oli hankalaa lukea. komento ./nvidia-drivers-xxx-xxx.run. Installeri varoitti, ett√§ X-server py√∂rii ja se pit√§√§ lopettaa. Googlasin, mutta ohjeet eiv√§t auttaneet, tietokone oli ohjeiden j√§lkeen aina k√§ynnistett√§v√§ reset napilla uudestaan. Ohjeita oli esim. CTR+ALT+F1 tai ‚Äùsudo service gdm stop‚Äù Kokeilin useita muitakin metodeja ratkaista ongelma, asensin jopa kahteen kertaan koko Debianin ja lopuksi kokeilin viel√§ Ubuntua asentaa, mutta se t√∂kk√§si jo asennus vaiheessa mustaan ruuttuun. T√§h√§n kaikkeen meni aikaa yli 6 tuntia
    <br>
    P√§√§tin palata asentamaan Vagrantin Windowsille, koska Linuxin asentaminen raudalleni tuntuu olevan todella haastava homma. T√§ll√§ hetkell√§ Grubissa on pari debiania asennettuna. Mitenh√§n sen siivoaisi? üòä
    <br>
    Googlasin ohjeet vagrantin asennukseen Windows 11 ja Vmawarelle, l√∂ysin Github sivun: <a href="https://gist.github.com/1eedaegon/6a5a2ab64f09b0800eadf3f84dad96f8"> Install vagrant with vmware for windows 11 (github.com) </a>
    <br>
    Latasin ja asensin Gon (ohjelmointikieli), uudelleen asennus vaadittin
    <br>
    Skippasin kohdan 2, koska minulla oli jo Vmware asennettuna.
    <br>
    Latasin ja asensin Vagrantin VMware Utilityn.
    <br>
    Aloin asentamaan pluginia Vmwarelle, n√§iden ohjeiden mukaan: <a href="https://www.hashicorp.com/blog/introducing-the-vagrant-vmware-desktop-plugin">Introducing the Vagrant VMware Desktop Plugin (hashicorp.com)</a>
    <br>
    Pyysin lis√§√§ aikaa teht√§vien tekoon ja jatkan t√§st√§..
    <br>
    jatkoin 6.11.2023
    <br>
    Selvitin tuo Vagrant VMware Desktop Plugin on maksullinen, koitan viel√§ asentaa Ubuntun tuoreimman ei LTS version koneelleni.
    </p>
    <img src="Graphics/PalvelintenHallinta/9.png" alt="" width="700" height=""/>
    <p>
        Sain Ubuntun version 23.10 ilman ongelmia py√∂rii nyt raudan p√§√§ll√§ siis. Nyt teht√§vien pariin.
    </p>
    <h3>a) Asenna Vagrant. (Toiminee parhaiten is√§nt√§k√§ytt√∂j√§rjestelm√§ss√§, siis siin√§, joka py√∂rii raudalla) ja b) Yksi maankiert√§j√§. Asenna yksi kone Vagrantilla, ota siihen SSH-yhteys, osoita ett√§ netti toimii.
    </h3>
<p>Komento ‚Äùsudo apt-get install vagrant virtualbox‚Äù komento asensi vagrantin ja virtualboxin
    <br>
    komento alustaa Debianin version bullseye64 toimimana vagrantissa ja luo Vagranfile tiedoston, tiedostolla voi muokata asetuksia ymp√§rist√∂ss√§ ‚Äùvagrant init debian/bullseye64‚Äù

</p>
<img src="Graphics/PalvelintenHallinta/10.png" alt="" width="700" height=""/>
<p>
    Debian/bullseye64 ei l√∂ytynyt aluksi, joten vagrant latasi sen.    
</p>
<img src="Graphics/PalvelintenHallinta/11.png" alt="" width="700" height=""/>
<p>
    Synkronoidut kansiot ovat p√§√§ll√§, t√§m√§ pit√§√§ kyll√§ opetella laittamaan pois p√§√§lt√§. Komentohan tuossa onkin jo annettu valmiiksi, kun muuttaa ilmeisesti vagrantfiless√§ olevia tietoja.
</p>
<img src="Graphics/PalvelintenHallinta/12.png" alt="" width="700" height=""/>
<p>
    Komento ‚Äùvagrant ssh‚Äù ja siell√§ py√∂rii debian ja olen kirjautuneena sis√§√§n
</p>
<h3>c) Oma orjansa. Asenna Salt herra ja orja samalle koneelle.</h3>
<p>
    Teht√§v√§ pit√§isi olla paremmin avattu. Eli vagrant koneelle vai p√§√§koneelle.
    <br>
Asennan p√§√§koneelle. ‚Äùsudo apt-get update‚Äù, ‚Äùsudo apt-get install salt-minion‚Äù
<br>
eip√§ asennukkaan my√∂sk√§√§n ubuntuun. Lis√§sin paketinhallintaan n√§iden ohjeiden mukaisesti: <a href="https://docs.saltproject.io/salt/install-guide/en/latest/topics/install-by-operating-system/debian.html#install-salt-on-debian-11-bullseye-amd64">Docs.saltprojet.io</a>
</p>
<img src="Graphics/PalvelintenHallinta/13.png" alt="" width="700" height=""/>
<p>
    sitten komento uudestaan ‚Äùsudo apt-get update‚Äù ja sudo apt-get install salt-minion‚Äù ja viel√§ komento ‚Äùsudo apt-get install salt-master‚Äù, kummatkin asentuivat hienosti
</p>
<img src="Graphics/PalvelintenHallinta/14.png" alt="" width="700" height=""/>
<p>
    Yritin k√§ynnist√§√§ salt masterin ja minionin, eip√§ l√§hteneetk√§√§n k√§yntiin.
Koitin ohjeiden mukaan, vaikka ne ovatkin debianille, mutta k√§sitt√§√§kseni Ubintu on debian pohjainen distro, joten ne saattavat toimia.
<br>
Laitoin komennon ‚Äùsudo systemctl enable salt-master && systemctl start salt-master‚Äù ja ukomennon ‚Äùsudo systemctl enable salt-minion && systemctl start salt-minion‚Äù
</p>
<img src="Graphics/PalvelintenHallinta/15.png" alt="" width="700" height=""/>
<p>
komento ‚Äùps aux -e | grep salt‚Äù l√∂ytyi prosessit joita salt-minion ja salt-master k√§yttt√§. Se siis oli nyt asennettu koneelle.
</p>
<img src="Graphics/PalvelintenHallinta/16.png" alt="" width="700" height=""/>
<p>
    arkastin viel√§ saltin version komennolla ‚Äù salt-call  --version‚Äù

</p>
<h3>Asenna Saltin herra-orja arkkitehtuuri toimimaan verkon yli. (Verkko voi olla virtuaalinen verkko paikallisten virtuaalikoneiden v√§lill√§, kuten muissakin alakohdissa)</h3>
<li>‚Äùvagrant up‚Äù</li>
<li>‚Äùvagrant ssh‚Äù </li>
<li>‚Äùsudo apt-get update‚Äù </li>
<li>‚Äùsudo apt-get install curl‚Äù</li>
<li>‚Äùsudo mkdir /etc/apt/keyrings‚Äù </li>
<li>‚Äùsudo curl -fsSL -o /etc/apt/keyrings/salt-archive-keyring-2023.gpg https://repo.saltproject.io/salt/py3/debian/11/amd64/SALT-PROJECT-GPG-PUBKEY-2023.gpg‚Äù</li>
<li>‚Äùecho "deb [signed-by=/etc/apt/keyrings/salt-archive-keyring-2023.gpg arch=amd64] https://repo.saltproject.io/salt/py3/debian/11/amd64/latest bullseye main" | sudo tee /etc/apt/sources.list.d/salt.list‚Äù</li>
<li>‚Äùsudo apt-get update‚Äù</li>
<li>‚Äùsudo apt-get install salt-minion‚Äù</li>
<li>‚Äùlogout‚Äù</li>
<p>
    komento ‚Äùsudo hostname I‚Äù t√§ll√§ sai masterin ip:n selville
</p>
<img src="Graphics/PalvelintenHallinta/17.png" alt="" width="700" height=""/>
<p>
    komento ‚Äùnc -vz 192.168.178.70 4505‚Äù portiin kytekeytyminen tcp yhteydell√§ onnistui eli portti on ylip√§√§tt√§√§n auki.
</p>
<p>
    ‚Äùvagrant ssh‚Äù
    <br>
‚Äùsudo apt-get install micro‚Äù
<br>
‚Äùsudo micro etc/salt/minion‚Äù
<br>
lis√§t√§√§n tiedostoon master: 192.168.178.70
id: ilkkah
</p>
<img src="Graphics/PalvelintenHallinta/18.png" alt="" width="700" height=""/>
<p>
    ‚Äùsudo systemctl enable salt-minion && systemctl start salt-minion‚Äù
    <br>
    eip√§ antanut vagrant virtuaalikone k√§ynnist√§√§ salt-minionia
    <br>
    ‚Äùps aux -e | grep salt‚Äù
    <br>
    kyll√§ se siell√§ py√∂ri kuitenkin 
</p>
<img src="Graphics/PalvelintenHallinta/19.png" alt="" width="700" height=""/>
<p>kokeilin k√§ynnist√§√§ salt orjan uudestaan n√§iden ohjeiden mukaan: <a href="https://terokarvinen.com/2018/salt-quickstart-salt-stack-master-and-slave-on-ubuntu-linux/?fromSearch=salt%20master">Terokarvinen.com salt-quickstart salt master and slave on ubuntu</a>
<br>
‚Äùsudo systemctl restart salt-minion.service‚Äù
<br>
sitten ‚Äùlogout‚Äù mutta vagrant kone sanoo, ett√§ There are stopped jobs. Mitk√∂h√§n nyt sitten? :)
<br>
Googlasin ja ohjeita <a href="https://unix.stackexchange.com/questions/116959/there-are-stopped-jobs-on-bash-exit">Stackexchange.com</a>
<br>
uudestaan vaan komento ‚Äùexit‚Äù
</p>
<img src="Graphics/PalvelintenHallinta/20.png" alt="" width="700" height=""/>
<p>
    ‚Äùsudo hostname I‚Äù ei antanut mit√§√§n tulosta
    <br>
‚Äùsalt-master‚Äù v√§√§rin uudelleen k√§ynnistetty salt-master
<br>
‚Äùsudo salt-master‚Äù taas v√§√§rin uudelleen k√§ynnistetty salt-master‚Äù virhe ilmoitus, koska se py√∂rii jo. Pit√§isi k√§ynnist√§√§ udeelleen systemctl avulla
<br>
‚Äùsudo hostname -I‚Äù kuitenkin antaa nyt IP osoitteen
<br>
‚Äùsudo salt-key -A‚Äù The key glob ‚Äô*‚Äô does not match any unaccepted keys. En kyll√§ tajua miss√§ vika
<br>
K√§vin katsomassa viel√§ etc/salt/minion tiedostoa ja ip osoitteessa oli kirjoitusvirhe. Korjasin sen ja tadaa.
</p>
<img src="Graphics/PalvelintenHallinta/21.png" alt="" width="700" height=""/>
<p>
    Komento ‚Äùsudo salt-key‚Äù paljasti, ett√§ orjaoli ilmoittautunut.
    <br>
Komento ‚Äùsudo salt-ket -A‚Äù hyv√§ksyin vaimen.
</p>
<img src="Graphics/PalvelintenHallinta/22.png" alt="" width="700" height=""/>
<p>
    Ja testaus, ett√§ orja vastaa ja toimi.
</p>
L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/#h1-viisikko">Terokarvinen.com</a>
<h1>Haaga-Helia ammattikorkeakoulu
</h1>
<h2>
Palvelinten Hallinta
</h2>
<br>
12.11.2023
<br>
<h4 id="Luento3">h3 Versio</h4>
<h3>a)	Online. Tee uusi varasto GitHubiin (tai Gitlabiin tai mihin vain vastaavaan palveluun). Varaston nimess√§ ja lyhyess√§ kuvauksessa tulee olla sana "winter". Aiemmin tehty varasto ei kelpaa. (Muista tehd√§ varastoon tiedostoja luomisvaiheessa, esim README.md ja GNU General Public License 3) ja b)	Dolly. Kloonaa edellisess√§ kohdassa tehty uusi varasto itsellesi, tee muutoksia, puske ne palvelimelle, ja n√§yt√§, ett√§ ne ilmestyv√§t weppiliittym√§√§n.</h3>
<img src="Graphics/PalvelintenHallinta/23.png" alt="" width="700" height=""/>
<p>
    Loin repositorion Github nettisivuilla, en luonut viel√§ ssh avainta. katsoin miten t√§m√§ toimii.
    <br>
komennolla ‚Äùgit clone repostorion osoite.git‚Äù sain kopioitua repositorion koneelle. Githubissa laitoin repostitorion publiciksi ja loin read.me tiedoston ja kirjoitin siihen hieman teksti√§.
<br>
Homma ei toiminut, kysyi k√§ytt√§j√§tunnusta ja salasanaa ja niill√§ en p√§√§ssyt sis√§√§n.
<br>
Loin komennolla ‚Äùssh-keygen‚Äù Enter Enter ssh avaimen ja kopioin sen Githubin ssh avaimiin sen j√§lkeen poistin virtuaalikoneelta tuon kansion ja kloonasin sen uudestaan.
</p>
<img src="Graphics/PalvelintenHallinta/24.png" alt="" width="700" height=""/>
<p>
    Muokkasin microlla README.md tiedostoa ja lis√§sin tekstin testi.
    <br>
    Komento ‚Äùgit add README.md‚Äù
    <br>
    Komento ‚Äúgit commit -m ‚Äúteksti√§‚Ä¶‚Äù
    <br>
    ja komento ‚Äùgit push‚Äù
</p>
    <img src="Graphics/PalvelintenHallinta/25.png" alt="" width="700" height=""/> 
    <p>
        Repositorio oli p√§ivittynyt Githubiin
    </p>
    <h3>
        c)	Doh! Tee tyhm√§ muutos gittiin, √§l√§ tee commit:tia. Tuhoa huonot muutokset ‚Äògit reset --hard‚Äô. Huomaa, ett√§ t√§ss√§ toiminnossa ei ole peruutusnappia.
        </h3>
        <p>
            Lis√§sin teksti√§ ‚Äùtyhm√§ muutos‚Äù REDME.md tiedostoon
        </p>
        <img src="Graphics/PalvelintenHallinta/26.png" alt="" width="700" height=""/>
        <p>
            komento ‚Äùgit add README.md‚Äù Komento ‚Äúgit reset ‚Äìhard‚Äù
            <br>
        
Git palautti version aikaisempaan

        </p>
        <h3>d)	Tukki. Tarkastele ja selit√§ varastosi lokia. Tarkista, ett√§ nimesi ja s√§hk√∂postiosoitteesi n√§kyy haluamallasi tavalla ja korjaa tarvittaessa.</h3>
        <img src="Graphics/PalvelintenHallinta/27.png" alt="" width="700" height=""/>
        <p>
            Author commitin tekij√§
            <br>
            Date pvm ja kellonaika, aikavy√∂hyke
            <br>
            commitin sis√§lt√∂
              
        </p>
        L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/#h3-versio">Terokarvinen.com</a>
        <h1>Haaga-Helia ammattikorkeakoulu
        </h1>
        <h2>
        Palvelinten Hallinta
        </h2>
        <br>
        17.11.2023
        <br>
        <h4 id="Luento4">h4 Demonit</h4>
        <h3>x) Lue ja tiivist√§. (T√§ss√§ x-alakohdassa ei tarvitse tehd√§ testej√§ tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelm√§ riitt√§√§. Tiivist√§miseen riitt√§√§ muutama ranskalainen viiva.)</h3>
       <h3>Karvinen 2023:<a href="https://terokarvinen.com/2023/salt-vagrant/#infra-as-code---your-wishes-as-a-text-file">Salt Vagrant - automatically provision one master and two slaves</a> 
            </h3>
            <h3>Infra as Code - Your wishes as a text file</h3>
            
                <li>"sudo mkdir -p /srv/salt/hello"</li>
                <li>"sudoedit /srv/salt/hello/init.sls"</li>
                <li>Sisennys on kaksi v√§lily√∂nti√§ YAML syntaksissa</li>
                <li>‚Äúcat /srv/salt/hello/init.sls‚Äù</li>
<p>
---------
<br>
/tmp/infra-as-code:
<br>
  file.managed
  <br>
---------

</p>
<li>‚Äúsudo salt '*' state.apply hello‚Äù</li>
<h3>top.sls - What Slave Runs What States</h3>
<li>top.sls m√§√§rittelee mit√§ tiloja orjille ajetaan</li>
<li>‚Äùcat /srv/salt/top.sls‚Äù</li>
<p>
----------
<br>
base:
<br>
  ‚Äò*‚Äô:
  <br>
    - hello
    <br>
----------
</p>
<li>komento: ‚Äúsudo salt ‚Äò*‚Äô state.apply</li>
<h3>Salt contributors: <a href="https://docs.saltproject.io/salt/user-guide/en/latest/topics/overview.html#rules-of-yaml">Salt overview, kohdat</a></h3>
<h3>Rules of YAML</h3>
<li>Koodi j√§rjestell√§√§n avain: arvo pareina.</li>
<li>Mappaus k√§ytt√§√§ kaksoispistett√§ ja yksi v√§lily√∂nti ‚Äù: ‚Äù merkit√§kseen avain: arvo parit. </li>
<li>Avainten arvot voivat olla monessa erilaisessa rakenteessa.</li>
<li>Isot ja pienet kirjaimet vaikuttavat avaimissa ja ominaisuuksissa.</li>
<li>Tabulaattoria ei k√§ytet√§, vain v√§lily√∂nti√§.</li>
<li>Kommentointi alkaa ‚Äù#‚Äù.</li>
<h3>YAML simple structure</h3>
<li>1. Skaalaajat: avain: arvo mappaukset, jossa arvo voi olla merkkijono, numero tai boolean operaattori</li>
<li>2. Listat: avain, jota seuraa lista arvoja omalla rivill√§√§ kahden v√§lily√∂nnin ja vii-van kanssa</li>
<li>3. Sanakirjat: kokoelma avainten arvo mappauksia ja listoja</li>
<h3>Lists and dictionaries - YAML block structures</h3>
<li>YAML on j√§rjestelty lohko rakenteiksi</li>
<li>    Sisennys m√§√§r√§√§ kontekstin. On pakko sisent√§√§ ominaisuudet ja listat yhdell√§ tai useammalla v√§lily√∂nnill√§. Kaksi v√§lily√∂nti√§ on standardi.
    </li>
    <h3>Salt contributors: <a href="https://docs.saltproject.io/salt/user-guide/en/latest/topics/states.html#state-modules">Salt states</a> </h3>
<h3>State modules</h3>
<li>Konflikteja voi esiinty√§</li>
<li>moduuleilla ei ole ‚Äùstatus check‚Äù mahdollisuutta, vaan t√§ytyy kutsua orjaa selvitt√§√§kseen statuksen</li>
<h3>The state SLS data structure</h3>
<li>Identifier tunniste</li>
<li>State modulin nimi</li>
<li>Function jota kutsutaan, kuten installed</li>
<li>Name tilan nimi kutsu, yleens√§ tiedoston nimi</li>
<li>Arguments parametrit joita, funktio hyv√§ksyy</li>
<h3>Organizing states</h3>
<li>Salt tilojen puu pit√§isi kirjoittaa niin, ett√§ toinen kehitt√§j√§ helposti n√§kee tilan tarkoituksen ja n√§kee kokopuun ‚Äùworkflown‚Äù</li>
<li>hyv√§ k√§yt√§nt√∂ on, ett√§ ei luo liikaa pesi√§ polkuun, vain pari tasoa. N√§in puu on helpommin navigoitavissa ja ongelmia tulee v√§hemm√§n tulevaisuudessa.</li>
<h3>The top.sls file</h3>
<li>Koska joissain ymp√§rist√∂ss√§ on satoja tiedostoja kohdistuen orjiin, ei ole k√§y-t√§nn√∂llist√§ ajaa jokainen tilaa yksitellen. t√§h√§n auttaa top.sls tiedosto</li>
<li>top.sls tiedosto kartoittaa mit√§ orjien tulisi noutaa tietyist√§ ym
    p√§rist√∂ist√§
    </li>
<li>top.sls m√§√§ritt√§√§ mit√§ tiloja tulisi suorittaa noista ymp√§rist√∂ist√§</li>
<h3>Create the SSH state, Create the Apache state</h3>
<li>Eli t√§nne pit√§isi laittaa name kohdan tilalle muttuja,  tiedosto on sitten my√∂s au-tomatisoitu toimimaan paremmin uudelleen k√§ytett√§ess√§?</li>
<li>
    Apache state, apachen uudellen k√§ynnistyksen kohdalla sanoisin, ett√§ .conf tiedosto tulee k√§ytt√∂√∂n, voisi olla hy√∂dyllist√§ k√§ynnist√§√§ demoni uudestaan service-watchin avulla, joka seuraa .conf tiedostoa. En kyll√§ tied√§ miten t√§m√§ toteutetaan. 
    </li>
<h3>Karvinen 2018: <a href="https://terokarvinen.com/2018/04/03/pkg-file-service-control-daemons-with-salt-change-ssh-server-port/?fromSearch=karvinen%20salt%20ssh">Pkg-File-Service ‚Äì Control Daemons with Salt ‚Äì Change SSH Server Port</a> </h3>
<p>
    Artikkeli k√§sittelee demonien ohjausta Saltilla ja kuinka vaihtaa SSH serveriin alterna-tiivinen portti
</p>
<h3>a) Hello SLS! Tee Hei maailma -tila kirjoittamalla se tekstitiedostoon, esim /srv/salt/hello/init.sls.</h3>

On ollut v√§h√§n kiire viikko, valitettavasti en ehtinyt tekem√§√§n n√§it√§ teht√§vi√§, luin kuitenkin teorian. Koitan palata n√§ihin teht√§viin viel√§ huomenna. 20.11.2023

<h3>b) Top. Tee top.sls niin, ett√§ tilat ajetaan automaattisesti, esim komennolla "sudo salt '*' state.apply".</h3>
<h3>‚Ä¢	c) Apache. Asenna Apache, korvaa sen testisivu ja varmista, ett√§ demoni k√§ynnistyy.
    <li>	Ensin k√§sin, vasta sitten automaattisesti.</li>
    <li>Kirjoita tila sls-tiedostoon.</li>
        <li>pkg-file-service</li>
            <li>T√§ss√§ ei tarvita service:ss√§ watch, koska index.html ei ole asetustiedosto</li>
    </h3>
    <h3>d) SSHouto. Lis√§√§ uusi portti, jossa SSHd kuuntelee.
        
        </h3>
        <p>
        L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/#h4-demonit">Terokarvinen.com</a>
        </p>
        <h1>Haaga-Helia ammattikorkeakoulu
        </h1>
        <h2>
        Palvelinten Hallinta
        </h2>
        <br>
        26.11.2023
        <br>
        <h4 id="Luento5">h5 CSI Kerava</h4>
        <h3>x) Lue ja tiivist√§. (T√§ss√§ x-alakohdassa ei tarvitse tehd√§ testej√§ tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelm√§ riitt√§√§. Tiivist√§miseen riitt√§√§ muutama ranskalainen viiva.)</h3>
            <h3>Karvinen 2018: <a href="https://terokarvinen.com/2018/04/03/apache-user-homepages-automatically-salt-package-file-service-example/">Apache User Homepages Automatically ‚Äì Salt Package-File-Service Example</a></h3>
            <li>"sudo find -printf '%T+ M %p\n%A+ A %p\n%C+ C %p\n'|sort"</li>
            <li>find -printf "%T+ %p\n"|sort</li>
            <li>Artikkelissa esitell√§√§n kaksi eri tapaa, nopea cmd ja parempi tapa, jossa ei tarvitse suorittaa shell komnentoja.</li>
            <h3>a) CSI Kerava. N√§yt√§ 'find' avulla viimeisimm√§ksi muokatut tiedostot /etc/-hakemistosta ja kotihakemistostasi. Selit√§ kaikki k√§ytt√§m√§si parametrit ja format string 'man find' avulla.</h3>
            <img src="Graphics/PalvelintenHallinta/28.png" alt="" width="700" height=""/>
            <p>
                Apachen hakemistossa komento ‚Äù find -printf '%T+ %p\n'‚Äù n√§ytt√§√§ tiedostot ja niiden muokkausajat. \n vaihtaa rivi√§.
            </p>
<img src="Graphics/PalvelintenHallinta/29.png" alt="" width="700" height=""/>
<p>
    Kotihakemistossa komento ‚Äù find -printf '%T+ %p\n'‚Äù
</p>
<h3>b) Gui2fs. Muokkaa asetuksia jostain graafisen k√§ytt√∂liittym√§n (GUI) ohjelmasta k√§yt-t√§en ohjelman valikoita ja dialogeja. Etsi t√§m√§ asetus tiedostoj√§rjestelm√§st√§.</h3>
<p>Vaihdoin Firefoxin alku sivun ‚Äùhttp://www.heusala.fi/HH/PalvelintenHallinta.html‚Äù
    <br>
    Mutta en l√∂yt√§nyt etc/firefoxi-esr hakemistosta mit√§√§n tiedostoa mit√§ olisi muokattu. Kokeilin my√∂s etsi√§ tiedostoa ‚Äùfind -printf '%T+ %p\n' | sort‚Äù mutta ei l√∂ytynyt.
    <br>
    Kokeilin viel√§ vaihtaa fonttien asetuksia Libreofficesta, mutta en l√∂yt√§nyt n√§it√§k√§√§n. Libreofficen hakemistossa suoritin komennon ‚Äùfind -printf '%T+ %p\n' | sort‚Äù
    <br>   
    Kokeilin juurihakemistossakin tehd√§ komentoa ‚Äù find -printf '%T+ %p\n' | sort‚Äù mutta tuli liikaa tiedostoja ja en alkanut sielt√§ etsim√§√§n, kun pari viimeist√§ vaihtoehtoa ei ollut sopivia.
    </p>
<h3>c) Komennus. Tee Salt-tila, joka asentaa j√§rjestelm√§√§n uuden komennon.</h3>
    <p>Loin tiedoston hello tiedoston srv/salt/hello/ kansioon sis√§ll√∂ll√§:</p>
    <img src="Graphics/PalvelintenHallinta/30.png" alt="" width="700" height=""/>
    <p>Loin init.sls tiedoston samaan kansioon sis√§ll√∂ll√§:</p>
    <img src="Graphics/PalvelintenHallinta/31.png" alt="" width="700" height=""/>
    <img src="Graphics/PalvelintenHallinta/32.png" alt="" width="700" height=""/>
    <p>komento ‚Äùsudo salt-call --local state.apply hello‚Äù N√§kyi ett√§ uusi tiedosto oli luotu.</p>
<img src="Graphics/PalvelintenHallinta/33.png" alt="" width="700" height=""/>
<p>K√§vin viel√§ katsomassa usr/local/bin hakemistosta, ett√§ tiedosto oli luotu sinne ja mit√§ se sis√§lsi. koitin viel√§, mit√§ k√§y kun kirjoitaa miss√§ tahansa hakemistossa hello. Se suoritti tuon ohjelman, joka tulostaa sanan Hello ja p√§iv√§m√§√§r√§n, ajan ja aikavy√∂hykkeen.</p>
<h3>d) Apassi. Tee Salt-tila, joka asentaa Apachen n√§ytt√§m√§√§n kotihakemistoja.</h3>
<img src="Graphics/PalvelintenHallinta/34.png" alt="" width="700" height=""/>
    <p>Olen m√∂kill√§ ja j√§√§tyi putket, hitto. Pit√§√§ l√§hte√§ naapuriin saunomaan, teen t√§m√§n my√∂hemmin.</p>
<h3>e) √Ñmp√§rillinen. Tee Salt-tila, joka asentaa j√§rjestelm√§√§n kansiollisen komentoja.</h3>
<p>tein kansion ‚Äùsudo mkdir -p kansiollinenkomentoja‚Äù srv/salt/ kansioon.
    <br>
    Kopion kansioon aikaisemmin luomani hello tiedoston ja loin uuden tiedoston pyyttoni.py alla olevalla sis√§l√∂ll√§:
    </p>
<img src="Graphics/PalvelintenHallinta/35.png" alt="" width="700" height=""/>
<p>sitten komento ‚Äùsudoedit init.sls‚Äù</p>
<img src="Graphics/PalvelintenHallinta/36.png" alt="" width="700" height=""/>
<p>Muuten sama sis√§lt√∂ tiedostossa kuin hello kansiossa, mutta lis√§sin siihen uuden kohdan pyyttoni.py tiedostoa varten. ja muutin kummankin tiedoston polut vastamaan kansiorakennettani.</p>
<img src="Graphics/PalvelintenHallinta/37.png" alt="" width="700" height=""/>
<p>Komento ‚Äùsudo salt-call --local state.apply hello‚Äù n√§kyi, ett√§ yksi tiedosto oli muuttunut ja se oli pyyttoni.py, koska hello tiedosto l√∂ytyi jo usr/local/bin kansiosta.</p>
<img src="Graphics/PalvelintenHallinta/38.png" alt="" width="700" height=""/>
<p>ajoin viel√§ pyyttoni.py komennon</p>
<p>
    L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/">Terokarvinen.com</a>
</p>
<h1>Haaga-Helia ammattikorkeakoulu
</h1>
<h2>
Palvelinten Hallinta
</h2>
<br>
03.12.2023
<br>
<h4 id="Luento6">h6 Windows</h4>
<h3>x) Lue ja tiivist√§.
    <br>
    Vapaavalintainen aiemman vuoden kotiteht√§v√§raportti Saltin k√§yt√∂st√§ Windowsilla. L√∂yd√§t raportteja esimerkiksi Google-haulla: salt windows karvinen.</h3>
<h3>Halonen, Rajala ja Ollikainen 2023:<a href="https://github.com/therealhalonen/PhishSticks/blob/master/notes/ollikainen/windows.md"> Installing Windows 10 on a virtual machine</a>
    <br>
    Vain t√§m√§ Windowsin asennusohje. Samassa varastossa on hy√∂kk√§ysohjelmia, joiden k√§sittely edellytt√§√§, ett√§ osaa tehd√§ sen turvallisesti ja laillisesti, mm. erist√§√§ harjoituskoneita Internetist√§. N√§m√§ taidot oppii esim. kurssillani Tunkeutumistestaus. T√§ll√§ kurssilla ei k√§ytet√§ hy√∂kk√§ysty√∂kaluja. Mutta t√§m√§ Windowsin asennus virtuaalikoneeseen on yksinkertaista ja turvallista.
</h3>
<p>N√§it√§ on nyt luettu, eik√§ t√§m√§ toimi ymp√§rist√∂ss√§ni</p>
<h3>LSB Workgroup, The Linux Foundation 2015: Filesystem Hierarchy Standard
    <li>
Lue otsikot, katso sis√§lt√∂√§ jos asia ei ilmene otsikosta</li>

<li>Poimi tiivistelm√§√§si sellaisten kansioiden m√§√§ritelm√§t, joiden kanssa olet itse tekemisiss√§.</li></h3>
<p>
    Tein p√§in vastoin ja listasin, mist√§ haluan enemm√§n tietoa, jotka ovat tuntemattomampia minulle, joihin haluan tulevaisuudessa perehty√§ enemm√§n.
    <li>3.5. /boot : Static files of the boot loader</li>
    <li>3.6. /dev : Device files</li>
    <li>3.7. /etc : Host-specific system configuration</li>
    <li>3.9. /lib : Essential shared libraries and kernel modules</li>
    <li>3.12. /mnt : Mount point for a temporarily mounted filesystem</li>
    <li>3.13. /opt : Add-on application software packages</li>
    <li>3.15. /run : Run-time variable data</li>
    <li>3.16. /sbin : System binaries</li>
    <li>3.17. /srv : Data for services provided by this system</li>
    <li>4.5. /usr/include : Directory for standard include files.</li>
    <li>4.6. /usr/lib : Libraries for programming and packages</li>
    <li>4.7. /usr/libexec : Binaries run by other programs (optional)</li>
    <li>4.8. /usr/lib qual : Alternate format libraries (optional)</li>
    <li>4.10. /usr/sbin : Non-essential standard system binaries</li>
    <li>4.11. /usr/share : Architecture-independent data</li>
    <li>4.12. /usr/src : Source code (optional)</li>
</p>
<img src="Graphics/PalvelintenHallinta/39.png" alt="" width="700" height=""/>
<p>
    Aloin luomaan uutta virtuaalikonetta VMWarella.
</p>
<img src="Graphics/PalvelintenHallinta/40.png" alt="" width="700" height=""/>
<p>
    Tein iso tiedoston Windows media creation toolin avulla, jo aikasemmin Penetraatiotestaus kurssilla <a href = "Penetraatiotestaus.html#mediacreationtool">T√§ss√§ linkki raporttiin</a>
</p>
<img src="Graphics/PalvelintenHallinta/41.png" alt="" width="700" height=""/>
<p>
    Valitsin windowsin .iso tiedoston koneeltani
</p>
<img src="Graphics/PalvelintenHallinta/42.png" alt="" width="700" height=""/>
<p>
    valitsin minne kone tallennetaan.
</p>
<img src="Graphics/PalvelintenHallinta/43.png" alt="" width="700" height=""/>
<p>Valitsin millainen k√§ynnistyslohko? onko termi oikein? luodaan, BIOS on vanhempi, Basic input out put system, UEFI on uudempi ja Windows 11 alkaen tarvitaan Secure boot valinta. J√§tin sen pois, koska kyseess√§ Win 10 Pro.</p>
<img src="Graphics/PalvelintenHallinta/44.png" alt="" width="700" height=""/>
<p>Valitsin nelj√§ prosessoria ja kussakin 2 ydint√§, koska Windows toimii sulavammin mit√§ enemm√§n on tehoa. On esim. raskaampi kuin Linux.</p>
<img src="Graphics/PalvelintenHallinta/45.png" alt="" width="700" height=""/>
<p>Valitsin 16GB keskusmuistia virtuaalikoneelle.</p>
<img src="Graphics/PalvelintenHallinta/46.png" alt="" width="700" height=""/>
<p>NAT p√§√§lle, jotta netti toimii.</p>
<img src="Graphics/PalvelintenHallinta/47.png" alt="" width="700" height=""/>
<p>Valitsin suosituksen, en ole varma mik√§ to Paravirtualized valinta on. Mutta kyse on siis kovalevyn controlleri tyypist√§, joka ohjaa kovalevyjen kirjoitusta ja luentaa. SCSI on vanhaa tekniikkaa, nyky√§√§n k√§ytet√§√§n Nvme.2 asemia ja niiden m.2 kontrollereita tiet√§√§kseni.</p>
<img src="Graphics/PalvelintenHallinta/48.png" alt="" width="700" height=""/>
<p>Kovalevyn tyyppi, VMware n√§k√∂j√§√§n tukee NVMe asemien tyyppi√§, t√§st√§ etuna huimasti paremmat lukunopeudet, kuin muilla valinnoilla. Koneessani on NVMe asema, joten t√§m√§ valinta toimii hyvin.</p>
<img src="Graphics/PalvelintenHallinta/49.png" alt="" width="700" height=""/>
<p>Loin uuden virtuaalisen kovalevyn ja painoin Next.</p>
<img src="Graphics/PalvelintenHallinta/50.png" alt="" width="700" height=""/>
<p>Laitoin 100Gb kovalevyn kooksi ja halusin sen vain yhteen tiedostoon, oikeasti mielest√§ni sen siirt√§minen on helpompaa, kuin useamman tiedoston, vaikka VMWare yll√§ olevassa kuvassa niin v√§itt√§√§kin.</p>
<img src="Graphics/PalvelintenHallinta/51.png" alt="" width="700" height=""/>
<p>Valitsin polun, minne vituaalikoneen kovalevy tallennetaan.</p>
<img src="Graphics/PalvelintenHallinta/52.png" alt="" width="700" height=""/>
<p>T√§m√§n j√§lkeen asennus k√§ynnisty.</p>
<img src="Graphics/PalvelintenHallinta/53.png" alt="" width="700" height=""/>
<p>
Valitsin yll√§ olevat kieli, aika ja valuutta asetukset, sek√§ sy√∂tt√∂kielin n√§pp√§imist√∂lle, Painoin Next ja Install.
</p>
<img src="Graphics/PalvelintenHallinta/54.png" alt="" width="700" height=""/>
<p>
    Seuraavaksi Windows kysyi aktivointi koodia. Sy√∂tin koodin ja installeri siirtyi eteenp√§in.
</p>
<img src="Graphics/PalvelintenHallinta/55.png" alt="" width="700" height=""/>
<p>
    Hyv√§ksyin sopimusehdot lukematta ja myin sieluni kaupallisuudelle.
</p>
<img src="Graphics/PalvelintenHallinta/56.png" alt="" width="700" height=""/>
<p>
    Valitsin Custom: install Windows only (Advanced), koska ylempi valinta ei tee mit√§√§n j√§rke√§ tyhj√§ss√§ koneessa.
</p>
<img src="Graphics/PalvelintenHallinta/57.png" alt="" width="700" height=""/>
<p>
    T√§ss√§ riitt√§√§, kun klikkaa Next, se luo 100 gigatavun osioinnin levylle ja koko 100gb on siis k√§ytett√§viss√§ yhdell√§ asema kirjaimella ‚ÄùC:\‚Äù
</p>
<img src="Graphics/PalvelintenHallinta/58.png" alt="" width="700" height=""/>
<p>
    Asentaja alkoi kopioimaan tiedostoja
</p>
<img src="Graphics/PalvelintenHallinta/59.png" alt="" width="700" height=""/>
<p>
    sitten tuli automaattisen uudelleenk√§ynnistyksen aika.
</p>
<img src="Graphics/PalvelintenHallinta/60.png" alt="" width="700" height=""/>
<p>
    Ehdotus oli oikein, klikkasin Yes.
</p>
<img src="Graphics/PalvelintenHallinta/61.png" alt="" width="700" height=""/>
<p>
    Valitsin n√§pp√§imist√∂ksi Suomen.
</p>
<img src="Graphics/PalvelintenHallinta/62.png" alt="" width="700" height=""/>
<p>Valitsin Skip, koska en halua toista n√§pp√§imist√∂ asettelua Windowsiin. T√§ss√§ vaiheessa Windowsin asennuksen aloituksesta oli kulunut 6 minuuttia. Asentaja alkoi t√§m√§n j√§lkeen m√§√§ritt√§m√§√§n Windowsia k√§ytt√∂kuntoon, t√§m√§n aika virtuaalikone k√§ynnistyi muutaman kerran uudelleen.</p>
<img src="Graphics/PalvelintenHallinta/63.png" alt="" width="700" height=""/>
<p>
    Valitsin Set up for personal use ja klikkasin Next.
</p>
<img src="Graphics/PalvelintenHallinta/64.png" alt="" width="700" height=""/>
<p>
    Katsotaan, onnistuuko t√§m√§ ilman tilin asennusta, en haluisi liitt√§√§ t√§t√§ konetta ja lisenssi√§ omaan Microsoft tiliini. Valitsi vasemmasta alakulmasta Offline account ja Next.
</p>
<img src="Graphics/PalvelintenHallinta/65.png" alt="" width="700" height=""/>
<p>Ilman Microsoft tili√§ saa rajoitetun Windows kokemuksen. Valitsin siis Limited experience vasemmasta alakulmasta. Enk√§ painanut Next nappia.</p>
<img src="Graphics/PalvelintenHallinta/66.png" alt="" width="700" height=""/>
<p>
    valitsin k√§ytt√§j√§ksi ‚Äùilkkah‚Äù ja painoin Next.
</p>
<img src="Graphics/PalvelintenHallinta/67.png" alt="" width="700" height=""/>
<p>
    Valitsin suht turvallisen salasanan, jonka muistan, koska online toiminnot eiv√§t ole k√§yt√∂ss√§ t√§m√§n unohtaminen aiheuttaa isomman p√§√§nvaivan. Klikkasin sen j√§lkeen Next.
</p>
<img src="Graphics/PalvelintenHallinta/68.png" alt="" width="700" height=""/>
<p>Vahvistin salasanan toiseen kertaan, ett√§ se varmasti on oikein kirjoitettu.</p>
<img src="Graphics/PalvelintenHallinta/69.png" alt="" width="700" height=""/>
<p>
    N√§it√§ kysyt√§√§n koska online tominnot eiv√§t ole k√§yt√∂ss√§, t√§ss√§ on mielest√§ni tietoturvariski, koska n√§m√§ voidaan mahdollisesti saada henkil√∂st√§ selville. En vastannut n√§ihin todenmukaisesti.
</p>
<img src="Graphics/PalvelintenHallinta/70.png" alt="" width="700" height=""/>
<p>Vastasin No ja Accept, en halua, ett√§ Microsoft hy√∂dynt√§√§ sijaintitietojani.</p>
<img src="Graphics/PalvelintenHallinta/71.png" alt="" width="700" height=""/>
<p>
    Vastasin No ja Accept, t√§m√§ on k√§tev√§mpi ominaisuus l√§pp√§rin kanssa, jos vaikka h√§vi√§√§, vaatii tosin aikaisemman hyv√§ksynn√§n sijainti tiedoille.
</p>
<img src="Graphics/PalvelintenHallinta/72.png" alt="" width="700" height=""/>
<p>Valitsin Send Required diagnostic data, en halunnut l√§hett√§√§ kaikkea valinnaista lis√§tietoani Microsoftille. Huom! valintaa ei ole, miss√§ mit√§√§n telemetria tietoja ei l√§hetett√§isi. Olisi kiva tiet√§√§ mit√§ kaikkea t√§m√§ Required valinta sis√§lt√§√§ tiedoista.</p>
<img src="Graphics/PalvelintenHallinta/73.png" alt="" width="700" height=""/>
<p>
    Valitsin No ja Accept, koska en halua, ett√§ Microsoft saa tiet√§√§ mit√§ kirjoitan koneellani.
</p>
<img src="Graphics/PalvelintenHallinta/74.png" alt="" width="700" height=""/>
<p>
    Valitsin No ja Accept, koska en halua tietojeni valuvan jo maksamastani tuotteesta Microsoftille, koska se voi olla arkaluonteista. 
</p>
<img src="Graphics/PalvelintenHallinta/75.png" alt="" width="700" height=""/>
<p>
    Valitsin No j Accept, en mielell√§ni halua saada k√§ytt√∂j√§rjestelm√§√§ni yht√§√§n mainsta, saati sitten kohdennettua.
</p>
<img src="Graphics/PalvelintenHallinta/76.png" alt="" width="700" height=""/>
<p>
    Valitsin Skip, koska en k√§yt√§ t√§t√§ konetta erityisesti juuri noihin kategorioihin.
</p>
<img src="Graphics/PalvelintenHallinta/77.png" alt="" width="700" height=""/>
<p>
    Sitten alkoi odotus, t√§ss√§ vaiheessa aikaa oli kulunut asennuksen aloituksesta 28minuuttia, tosin asennusta hidasti t√§m√§n raportin kirjoittaminen samaan aikaan.
</p>
<img src="Graphics/PalvelintenHallinta/78.png" alt="" width="700" height=""/>
<p>
alle puolituntia kokonaisuudessaan ja ty√∂p√∂yt√§ oli k√§yt√∂ss√§.
</p>
<img src="Graphics/PalvelintenHallinta/79.png" alt="" width="700" height=""/>
<p>
    Klikkasin I Finnished Installing VMWaren ikkunaan, joka oli koko asennuksen ajan n√§kyviss√§. En ole tarvinnut tuota virtuaalista n√§pp√§imist√∂√§ miss√§√§n Windows tai Linux asennuksessa. Chromebookin k√§ytt√∂j√§rjestelm√§√§ virtualisoidessa, siit√§ oli hieman apua. Seuraavaksi p√§ivitin Windowsiin kaikki p√§ivitykset, jotka oli saatavilla Windows updatesta.
</p>
<p>
Kun windows update latasi tiedostoja VMWare antoi ponnhdusikkunan:
</p>
<img src="Graphics/PalvelintenHallinta/80.png" alt="" width="700" height=""/>
<p>
    T√§m√§ on mielest√§ni yksi parhaiten toteutettuja asioita VMWaressa, se ehdottaa asentamaan ty√∂kalut, jolla virtuaalikoneen k√§yt√∂st√§ tulee mielytt√§v√§mp√§√§. Esim. Graaffiset ominaisuudet paranevat ja leikep√∂yt√§ alkaa toimimaan. VirtualBoxilla ja Linuxilla en ole viel√§ koskaan saanut Guest Additionsia toimimaan, sen takia k√§yt√§n VMWarea.
</p>
<img src="Graphics/PalvelintenHallinta/81.png" alt="" width="700" height=""/>
<p>
    Tuli viel√§ lis√§ohjeistus asiaan. Eli Run komento D:\setup.exe, jos asennus ei k√§ynnisty.
<br>
    Tein sen ja VMWaren ty√∂kalut l√§htiv√§t asentumaan.

</p>

<img src="Graphics/PalvelintenHallinta/82.png" alt="" width="700" height=""/>
<p>Valitsin Next.</p>
<img src="Graphics/PalvelintenHallinta/83.png" alt="" width="700" height=""/>
<p>Valitsin Typical ja Next.</p>
<img src="Graphics/PalvelintenHallinta/84.png" alt="" width="700" height=""/>
<p>
    Valitsin Install. Ty√∂kalut l√§htiv√§t asentumaan.
</p>
<img src="Graphics/PalvelintenHallinta/85.png" alt="" width="700" height=""/>
<p>VMWare toolsin asennus vaatii virtuaalikoneen uudelleen k√§ynnistyksen. Klikkasin Finnish, mutta en k√§ynnist√§nyt konetta viel√§ uudestaan, koska Windowsin p√§ivityksi√§ oli viel√§ asentumassa.</p>
<img src="Graphics/PalvelintenHallinta/86.png" alt="" width="700" height=""/>
<p>
    P√§ivitykset latautuvat ja oli uudelleenk√§ynnistyksen aika. Painoin Restart now.
</p>
<img src="Graphics/PalvelintenHallinta/87.png" alt="" width="700" height=""/>
<p>
    T√§m√§ vie hetken aikaa, omien kokemuksieni mukaan, vaikka virta sammuisi, saattaa Windows silti kyet√§ hallitsemaan tilanteen ja uudelleen k√§ynnistyksen yhteydess√§ korjata tilanteen. Ei kyll√§ toimi aina n√§in ja voi olla, ett√§ joutuu asentamaan Windowsin uudestaan.
</p>
<img src="Graphics/PalvelintenHallinta/88.png" alt="" width="700" height=""/>
<p>Viel√§ kerran Windowsin p√§ivitykset kuntoon, yhdell√§ kertaa ei onnistu j√§rjestelm√§n p√§ivitt√§minen.</p>
<img src="Graphics/PalvelintenHallinta/89.png" alt="" width="700" height=""/>
<p>P√§ivitykset olivat kunnossa, nyt lataamaan viel√§ valinnainen laatu p√§ivitys, niin kuin tekisin omallakin koneellani, ett√§ saa uusimmat kilkkeet k√§ytt√∂√∂n.</p>
<img src="Graphics/PalvelintenHallinta/90.png" alt="" width="700" height=""/>
<p>
    T√§ss√§ kest√§√§ taas aikaa.
    <br>
P√§√§tin ajankuluksi katsoa t√§ss√§ v√§liss√§, kykeneek√∂ virtuaalikoneeni rauta py√∂ritt√§m√§√§ Windows 11. Uskoisin, ett√§ ei koska k√§ynnistyslohkoa luodessani valitsin UEFI ilman Secure Boottia, jonka k√§sitt√§√§kseni Windows 11 vaatii.
</p>
<img src="Graphics/PalvelintenHallinta/91.png" alt="" width="700" height=""/>
<p>
    Klikkasin linkki√§ Check hardware requirements ja sielt√§ PC Health Check app linkki√§, koska K√§yt√∂ss√§ni oli Windows 10.
</p>
<img src="Graphics/PalvelintenHallinta/92.png" alt="" width="700" height=""/>
<p>K√§ynnistin lataamani tiedoston ja asensin PC Helth Check ohjelman.</p>
<img src="Graphics/PalvelintenHallinta/93.png" alt="" width="700" height=""/>
<p>J√§tin asian sikseen, koska tarkastus vaatii Microsoftin tilille kirjautumisen. Kokeilen joskus my√∂hemmin uudestaan.</p>
<img src="Graphics/PalvelintenHallinta/94.png" alt="" width="700" height=""/>
<p>Taas tarvittiin uudelleen k√§ynnistys. T√§m√§n uudelleen k√§ynnistyksen j√§lkeen tarkastin viel√§ kerran p√§ivitykset ja ei tullut en√§√§ uusi p√§ivityksi√§.</p>
<h3>b) Asenna Salt Windowsille. Osoita 'salt-call --local' komentoa ajamalla, ett√§ asennus on onnistunut.
    <br>
    b ja c teht√§v√§ on yhdistetty.
    <br>
    c) Ker√§√§ Windows-koneesta tietoa grains.items -toiminnolla. Poimi 'grains.item' per√§√§n muutamia keskeisi√§ tietoja ja analysoi ne, eli selit√§ perusteellisesti mit√§ ne ovat. Kuvaile ja vertaile numeroita.
    </h3>
<p>
    <a href="https://docs.saltproject.io/salt/install-guide/en/latest/topics/install-by-operating-system/windows.html#install-windows">Latasin saltin t√§st√§ linkist√§</a>
</p>
<p>
    ja asensin sen, versio oli 3006.4, muistaakseni t√§m√§ on sama, kuin Linuxilla, eli Sulfur.
</p>
<img src="Graphics/PalvelintenHallinta/95.png" alt="" width="700" height=""/>
<p>Laitoin Masterin Nimeksi Master ja Minionin nimeksi Minion1, Default Config ja painoin Install.</p>
<img src="Graphics/PalvelintenHallinta/96.png" alt="" width="700" height=""/>
<p>
    T√§m√§ viittaa jonkin n√§k√∂iseen kirjastoon ilmeisesti, jota Salt tarvitsee, Valitsin Yes. Nimell√§ voisi googlata, jos haluaa lis√§tietoja.
</p>
<img src="Graphics/PalvelintenHallinta/97.png" alt="" width="700" height=""/>
<p>
    Avasin Powershellin Administrator oikeuksilla annoin komennon ‚Äùsalt-call‚Äù ja ‚Äùsalt-call --version‚Äù versio todellakin oli Sulfur.
</p>
<img src="Graphics/PalvelintenHallinta/98.png" alt="" width="700" height=""/>
<p>
    Kokeilin komentoa ‚Äúsalt-call --local -l info state.user.present ilkkah‚Äù joka oli k√§ytt√§j√§nimeni.
    <br>
    T√§m√§ ei n√§ytt√§nyt toimivan windowsilla.
</p>
<img src="Graphics/PalvelintenHallinta/99.png" alt="" width="700" height=""/>
<p>Kokeilin seuraavan komennon, ‚Äùsalt-call --local grains.items osfinger‚Äù</p>
<p>Tulostui tietoja virtuaalikoneesta. Prosessori, t√§sm√§si host koneeseeni. Ja tuolla n√§kyy aikaisemmin valitsemani secure-boot falsena, niin kuin valitsin asennuksessa. IPv4 ja IPv6 osoitteet tietokoneesta. Tuo Secure boot on mielenkiintoine, jos koitan p√§ivit√§√§ t√§m√§n Windows 11 koneeksi herjaako tuosta ja asennus keskeytyy. Minulla on vanha versio WMWaresta, koska en ole halunnut maksaa uudemmasta, toistaiseksi ainakaan. En edes tied√§ kykeneek√∂ t√§m√§ VMWare 16.x py√∂ritt√§m√§√§n Windows 11.</p>
<h3>d) Kokeile Saltin file -toimintoa Windowsilla.</h3>
<p>
    En tied√§ mik√§ on Linuxin ‚ÄùSrv‚Äù kansiota vastaava kansio Saltilla Windowsissa, en kerke√§ selvitt√§m√§√§n t√§t√§ t√§ll√§ hetkell√§. T√§ss√§ olisi pit√§nyt luoda init.sls tiedosto YAML kielell√§ ja k√§ytt√§√§ file.managed komentoa.
</p>
<h3>e) Kokeile jotain itsellesi uutta toimintoa Saltista Windowsilla. (Voit k√§ytt√§√§ apuna edellisten vuosien kotiteht√§v√§raporttia tai Karvinen 2018: <a href="https://terokarvinen.com/2018/04/18/control-windows-with-salt/">Control Windows with Salt.</a>  Huomaa, ett√§ noissa muistiinpanoissani voi jo hieman ik√§ painaa, ja niiss√§ on my√∂s ep√§relevantteja kokeiluja.)</h3>
<p>
    T√§m√§ kiinnostaa kovasti, mutta aika ei nyt vain riit√§. Opettelen t√§m√§n takuuvarmasti. 
</p>
<p>
    L√§hteen√§ on k√§ytetty: <a href="https://terokarvinen.com/2023/configuration-management-2023-autumn/">Terokarvinen.com</a>
</p>
</body>
</html>
